"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4291],{32953:function(e,n,t){t.d(n,{AppleSecretGenerator:function(){return o}});var r=t(84570);let s=(0,t(6392).default)(()=>t.e(7554).then(t.bind(t,27554)),{loadableGenerated:{webpack:()=>[27554]},ssr:!1});function o(){return(0,r.jsx)(s,{})}},2058:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(84570),s=t(14627),o=t(98846),i=t(43946),a=t(74660),l=t(48160),c=t(67430),d=t(82429),h=t(99237);let u=()=>(0,r.jsxs)(d.J,{type:"warning",children:[(0,r.jsxs)("p",{children:["To keep SMS sending costs under control, make sure you adjust your project's rate limits and"," ",(0,r.jsx)(h.default,{href:"/guides/auth/auth-captcha",children:(0,r.jsx)("u",{children:"configure CAPTCHA"})}),". See the"," ",(0,r.jsx)(h.default,{href:"/guides/platform/going-into-prod",children:(0,r.jsx)("u",{children:"Production Checklist"})})," ","to learn more."]}),(0,r.jsx)("br",{}),(0,r.jsx)("p",{children:"Some countries have special regulations for services that send SMS messages to users, (e.g India's TRAI DLT regulations). Remember to look up and follow the regulations of countries where you operate."})]});function p(e){let n=Object.assign({p:"p",a:"a",h2:"h2",ul:"ul",li:"li",img:"img",h4:"h4",code:"code"},(0,c.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.J,{type:"warning",children:(0,r.jsxs)(n.p,{children:["The MessageBird provider only works with the APIs before the ",(0,r.jsx)(n.a,{href:"https://bird.com/blog/messagebird-is-now-bird",children:"transition to Bird"}),". If you are using a new Bird account, this provider will not work properly since it relies on using the old set of ",(0,r.jsx)(n.a,{href:"https://developers.messagebird.com/api/sms-messaging/",children:"MessageBird APIs"}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"You'll need:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A MessageBird account (sign up ",(0,r.jsx)(n.a,{href:"https://dashboard.messagebird.com/en/sign-up",children:"here"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["A Supabase project (create one ",(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard",children:"here"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"A mobile phone capable of receiving SMS"}),"\n"]}),"\n",(0,r.jsx)(u,{}),"\n",(0,r.jsx)(n.h2,{id:"set-up-messagebird-as-your-sms-provider",children:"Set up MessageBird as your SMS provider"}),"\n",(0,r.jsxs)(n.p,{children:["Start by logging into your MessageBird account and verify the mobile number you'll be using to test with ",(0,r.jsx)(n.a,{href:"https://dashboard.messagebird.com/en/getting-started/sms",children:"here"}),". This is the number that will be receiving the SMS OTPs."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/guides/auth-messagebird/1.png",alt:"Verify your own phone number"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/guides/auth-messagebird/2.png",alt:"Get your API Keys"})}),"\n",(0,r.jsxs)(n.p,{children:["Navigate to the ",(0,r.jsx)(n.a,{href:"https://dashboard.messagebird.com/en/settings/sms",children:"dashboard settings"})," to set the default originator. The messagebird originator is the name or number from which the message is sent. For more information, you can refer to the messagebird article on choosing an originator ",(0,r.jsx)(n.a,{href:"https://support.messagebird.com/hc/en-us/articles/115002628665-Choosing-an-originator",children:"here"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/guides/auth-messagebird/3.png",alt:"Set the default originator"})}),"\n",(0,r.jsx)(n.p,{children:"You will need the following values to get started:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Live API Key / Test API Key"}),"\n",(0,r.jsx)(n.li,{children:"MessageBird originator"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Now go to the ",(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard/project/_/auth/providers",children:"Auth > Providers"}),' page in the Supabase dashboard and select "Phone" from the Auth Providers list.']}),"\n",(0,r.jsx)(n.p,{children:"You should see an option to enable the Phone provider."}),"\n",(0,r.jsx)(n.p,{children:"Toggle it on, and copy the 2 values over from the Messagebird dashboard. Click save."}),"\n",(0,r.jsx)(d.J,{children:(0,r.jsx)(n.p,{children:"If you use the Test API Key, the OTP will not be delivered to the mobile number specified but messagebird will log the response in the dashboard. If the Live API Key is used instead, the OTP will be delivered and there will be a deduction in your free credits."})}),"\n",(0,r.jsx)(n.h4,{id:"sms-custom-template",children:"SMS custom template"}),"\n",(0,r.jsx)(n.p,{children:"The SMS message sent to a phone containing an OTP code can be customized. This is useful if you need to mention a brand name or display a website address."}),"\n",(0,r.jsxs)(n.p,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard/project/_/auth/templates",children:"Auth > Templates"})," page in the Supabase dashboard."]}),"\n",(0,r.jsxs)(n.p,{children:["Use the variable ",(0,r.jsx)(n.code,{children:".Code"})," in the template to display the code."]})]})}var g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,c.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(p,e)})):p(e)};function m(e){let n=Object.assign({h2:"h2",p:"p",ul:"ul",li:"li",a:"a",ol:"ol",code:"code",h3:"h3",img:"img",h4:"h4"},(0,c.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"You'll need:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Twilio account (",(0,r.jsx)(n.a,{href:"https://www.twilio.com/try-twilio",children:"sign up"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["Supabase project (create one ",(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard",children:"here"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Mobile phone capable of receiving SMS"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["SMS Authentication can be done with either Twilio Verify or Twilio Programmable Messaging. ",(0,r.jsx)(n.a,{href:"https://www.twilio.com/en-us/trusted-activation/verify",children:"Twilio Verify"})," is a specialized OTP solution and is recommended for most developers that need over-the-phone authentication. Alternatively you can use ",(0,r.jsx)(n.a,{href:"https://www.twilio.com/docs/messaging",children:"Twilio Programmable Messaging"})," which offers generic SMS sending support."]}),"\n",(0,r.jsx)(u,{}),"\n",(0,r.jsx)(n.h2,{id:"twilio-verify",children:"Twilio Verify"}),"\n",(0,r.jsx)(n.p,{children:"To set up Twilio Verify, you will need to:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Create a new ",(0,r.jsx)(n.a,{href:"https://support.twilio.com/hc/en-us/articles/360033309133-Getting-Started-with-Twilio-Verify-V2",children:"verification service"})," in the Twilio dashboard."]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard/project/_/auth/providers",children:"Switch Phone Provider to Twilio Verify"})}),"\n",(0,r.jsx)(n.li,{children:"Configure the Twilio Verify Service ID field using the Verification Service ID obtained in 1."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"When using Twilio Verify, OTPs are generated by Twilio. This means that:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Unlike other providers, the OTP expiry duration and message content fields are not configurable via the Supabase dashboard. Please head to Twilio Verify to configure these settings."}),"\n",(0,r.jsx)(n.li,{children:"The token remains the same during its validity period until the verification is successful. This means if your user makes another request within that period, they will receive the same token."}),"\n",(0,r.jsxs)(n.li,{children:["Twilio Verify has a separate set of rate limits that apply. Visit Twilio's ",(0,r.jsx)(n.a,{href:"https://www.twilio.com/docs/verify/api/rate-limits-and-timeouts",children:"Rate Limit and Timeouts page"})," to find out more."]}),"\n"]}),"\n",(0,r.jsx)(d.J,{type:"caution",children:(0,r.jsxs)(n.p,{children:["At this time, Twilio Verify is only supported on the ",(0,r.jsx)(n.code,{children:"whatsapp"})," and ",(0,r.jsx)(n.code,{children:"sms"})," channels."]})}),"\n",(0,r.jsx)(n.h2,{id:"twilio-programmable-messaging",children:"Twilio (Programmable Messaging)"}),"\n",(0,r.jsx)(n.p,{children:"In this section, you'll set up Twilio as an SMS provider:"}),"\n",(0,r.jsx)(n.p,{children:"What you'll need:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A Twilio account (sign up here: ",(0,r.jsx)(n.a,{href:"https://www.twilio.com/try-twilio",children:"https://www.twilio.com/try-twilio"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["A Supabase project (create one here: ",(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard",children:"https://supabase.com/dashboard"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"A mobile phone capable of receiving SMS"}),"\n"]}),"\n",(0,r.jsx)("div",{className:"video-container",children:(0,r.jsx)("iframe",{src:"https://www.youtube-nocookie.com/embed/akScoPO01bc",frameBorder:"1",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),"\n",(0,r.jsx)(n.h3,{id:"setting-up-your-twilio-credentials",children:"Setting up your Twilio credentials"}),"\n",(0,r.jsxs)(n.p,{children:["Start by logging into your Twilio account and starting a new project: ",(0,r.jsx)(n.a,{href:"https://www.twilio.com/console/projects/create",children:"https://www.twilio.com/console/projects/create"})]}),"\n",(0,r.jsx)(n.p,{children:"Give your project a name and verify the mobile number you'll be using to test with. This is the number that will be receiving the SMS OTPs."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{src:"/docs/img/guides/auth-twilio/1.png",alt:"Name your twilio project"}),"\n",(0,r.jsx)(n.img,{src:"/docs/img/guides/auth-twilio/2.png",alt:"verify your own phone number"})]}),"\n",(0,r.jsx)(n.p,{children:"Select 'SMS', 'Identity & Verification', and 'With code' as options on the welcome form."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/guides/auth-twilio/3.png",alt:"Form Fields"})}),"\n",(0,r.jsxs)(n.p,{children:["When you're back on the ",(0,r.jsx)(n.a,{href:"https://www.twilio.com/console",children:"Twilio console screen"}),", you need to scroll down and click 'Get a trial phone number' - this is the number that you'll be sending SMSs from."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/guides/auth-twilio/4.png",alt:"Get a trial phone number"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/guides/auth-twilio/5.png",alt:"Successful phone number"})}),"\n",(0,r.jsx)(n.p,{children:"You should now be able to see all three values you'll need to get started:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Account SID"}),"\n",(0,r.jsx)(n.li,{children:"Auth Token"}),"\n",(0,r.jsx)(n.li,{children:"Sender Phone Number"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/guides/auth-twilio/6.png",alt:"All the credentials you'll need"})}),"\n",(0,r.jsxs)(n.p,{children:["Now go to the ",(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard/project/_/auth/providers",children:"Auth > Providers"}),' page in the Supabase dashboard and select "Phone" from the Auth Providers list.']}),"\n",(0,r.jsx)(n.p,{children:"You should see an option to enable the Phone provider."}),"\n",(0,r.jsx)(n.p,{children:"Toggle it on, and copy the 3 values over from the Twilio dashboard. Click save."}),"\n",(0,r.jsx)(n.p,{children:'Note: for "Twilio Message Service SID" you can use the Sender Phone Number generated above.'}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/guides/auth-twilio/8.png",alt:"Plug in Twilio credentials"})}),"\n",(0,r.jsx)(n.p,{children:"Now the backend should be setup, we can proceed to add our client-side code!"}),"\n",(0,r.jsx)(d.J,{type:"note",children:(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"Twilio Content SID"})," field is specific to Twilio Programmable Messaging (WhatsApp) senders.\nDisregard this field if you are only sending SMS messages. Refer to the section on WhatsApp OTP\nLogins for further details."]})}),"\n",(0,r.jsx)(n.h4,{id:"sms-custom-template",children:"SMS custom template"}),"\n",(0,r.jsx)(n.p,{children:"The SMS message sent to a phone containing an OTP code can be customized. This is useful if you need to mention a brand name or display a website address."}),"\n",(0,r.jsxs)(n.p,{children:["Go to the ",(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard/project/_/auth/providers",children:"Auth > Providers"}),' page in the Supabase dashboard and select "Phone" from the Auth Providers list. Scroll to the very bottom of the "Phone" section to the "SMS Message" input - you can customize the SMS message here.']}),"\n",(0,r.jsxs)(n.p,{children:["Use the variable ",(0,r.jsx)(n.code,{children:".Code"})," in the template to display the OTP code. Here's an example in the SMS template."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/guides/auth-twilio/9.png",alt:"example in the SMS template"})}),"\n",(0,r.jsx)(n.h2,{id:"whatsapp-otp-logins",children:"WhatsApp OTP logins"}),"\n",(0,r.jsx)(n.p,{children:"In some cases, you may wish to use WhatsApp as a delivery channel instead. Here are some examples our users have cited:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You want higher deliverability"}),"\n",(0,r.jsx)(n.li,{children:"You wish for a secure channel"}),"\n",(0,r.jsx)(n.li,{children:"Your users mostly use WhatsApp as a messaging platform"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Twilio Verify can be used with WhatsApp OTPs with no additional configuration."}),"\n",(0,r.jsx)(n.p,{children:"Complete the following steps to use WhatsApp OTP with Twilio Programmable Messaging:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go through the ",(0,r.jsx)(n.a,{href:"https://www.twilio.com/docs/whatsapp/self-sign-up",children:"Twilio self sign up guide for WhatsApp"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Register a Twilio Content Template via the ",(0,r.jsx)(n.a,{href:"https://www.twilio.com/docs/content/whatsappauthentication",children:"API"})," and note the corresponding Twilio Content SID. You can also use the Template Builder on the Twilio dashboard to create a Content Template\n",(0,r.jsx)(n.img,{src:"/docs/img/guides/auth-twilio/twilio_content_sid.png",alt:"Twilio Content SID Image"})]}),"\n",(0,r.jsx)(n.li,{children:"Register the Twilio Content SID on the Supabase dashboard under Authentication > Providers > Phone > Twilio Content SID. Ensure you have Twilio selected as your phone provider."}),"\n"]}),"\n",(0,r.jsx)(d.J,{children:(0,r.jsxs)(n.p,{children:["You may only use one Twilio Content SID at a time. Supabase Auth will use the Content Template over the ",(0,r.jsx)(n.code,{children:"SMS Message"})," field when sending WhatsApp messages. Use Twilio Verify if you need to use more than one message template."]})})]})}var f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,c.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(m,e)})):m(e)};function x(e){let n=Object.assign({h2:"h2",p:"p",ul:"ul",li:"li",a:"a",h3:"h3",h4:"h4",code:"code"},(0,c.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"You'll need:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A Vonage account (sign up here: ",(0,r.jsx)(n.a,{href:"https://dashboard.nexmo.com/sign-up",children:"https://dashboard.nexmo.com/sign-up"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["A Supabase project (create one here: ",(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard",children:"https://supabase.com/dashboard"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"A mobile phone capable of receiving SMS"}),"\n"]}),"\n",(0,r.jsx)(u,{}),"\n",(0,r.jsx)(n.h2,{id:"set-up-vonage-as-an-sms-provider",children:"Set up Vonage as an SMS provider"}),"\n",(0,r.jsx)(n.h3,{id:"getting-your-vonage-credentials",children:"Getting your Vonage credentials"}),"\n",(0,r.jsxs)(n.p,{children:["Start by logging into your Vonage Dashboard at ",(0,r.jsx)(n.a,{href:"https://dashboard.nexmo.com/",children:"https://dashboard.nexmo.com/"})]}),"\n",(0,r.jsx)(n.p,{children:"You will see you API Key and API Secret here, which is actually all you need to get started."}),"\n",(0,r.jsx)(n.p,{children:"In most countries, a phone number is actually optional and you can also use any Alphanumeric Sender ID of up to 11 characters length (8 for India) as a Sender ID (from). This means you do not need a number to test with in most cases."}),"\n",(0,r.jsxs)(n.p,{children:["To find out more about supported countries for Alphanumeric Sender ID, check this overview: ",(0,r.jsx)(n.a,{href:"https://help.nexmo.com/hc/en-us/articles/115011781468-SMS-Features-Overview-Outbound-only-",children:"https://help.nexmo.com/hc/en-us/articles/115011781468-SMS-Features-Overview-Outbound-only-"})]}),"\n",(0,r.jsx)(n.p,{children:"Hint: Some countries might need a Sender ID Registration to allow sending with an Alphanumeric Sender ID. You can find this information in the help article as well. If Alpha Sender IDs are not supported, you will need to buy a phone number."}),"\n",(0,r.jsx)(n.h3,{id:"getting-a-phone-number-optional",children:"Getting a phone number (optional)"}),"\n",(0,r.jsxs)(n.p,{children:["If you want a phone number to send SMS from, you can buy one from the Vonage Dashboard under Numbers > Buy Numbers (",(0,r.jsx)(n.a,{href:"https://dashboard.nexmo.com/buy-numbers",children:"https://dashboard.nexmo.com/buy-numbers"}),")."]}),"\n",(0,r.jsx)(n.p,{children:"Select the country you want a number for. You will need a mobile phone number with SMS or SMS+Voice capability. After you have bought the number, you will be able to send SMS from it."}),"\n",(0,r.jsx)(n.h3,{id:"configure-supabase",children:"Configure Supabase"}),"\n",(0,r.jsxs)(n.p,{children:["Now go to the ",(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard/project/_/auth/providers",children:"Auth > Providers"}),' page in the Supabase dashboard and select "Phone" from the Auth Providers list.']}),"\n",(0,r.jsx)(n.p,{children:"You should see an option to enable the Phone provider."}),"\n",(0,r.jsx)(n.p,{children:"Toggle it on, and copy the API key, API secret and phone number values over from the Vonage dashboard. Click save."}),"\n",(0,r.jsx)(n.p,{children:"Now the backend should be setup, we can proceed to add our client-side code!"}),"\n",(0,r.jsx)(n.h4,{id:"sms-custom-template",children:"SMS custom template"}),"\n",(0,r.jsx)(n.p,{children:"The SMS message sent to a phone containing an OTP code can be customized. This is useful if you need to mention a brand name or display a website address."}),"\n",(0,r.jsxs)(n.p,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard/project/_/auth/templates",children:"Auth > Templates"})," page in the Supabase dashboard."]}),"\n",(0,r.jsxs)(n.p,{children:["Use the variable ",(0,r.jsx)(n.code,{children:".Code"})," in the template to display the code."]})]})}var j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,c.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(x,e)})):x(e)};function b(e){let n=Object.assign({h2:"h2",p:"p",ul:"ul",li:"li",strong:"strong",a:"a",ol:"ol",h3:"h3",code:"code"},(0,c.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"Before you begin, ensure you have the following:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"A Textlocal account"}),": Sign up for ",(0,r.jsx)(n.a,{href:"https://www.textlocal.com/signup",children:"TextLocal"})," to start sending SMS messages."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"A Supabase project"}),": Necessary for SMS authentication integration. Create your project in the ",(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard",children:"Supabase Dashboard"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"A mobile phone"}),": To receive SMS messages and test your setup."]}),"\n"]}),"\n",(0,r.jsx)(u,{}),"\n",(0,r.jsx)(n.h2,{id:"setting-up-textlocal-as-your-sms-provider",children:"Setting up Textlocal as your SMS provider"}),"\n",(0,r.jsx)(n.p,{children:"To integrate Textlocal with Supabase:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#get-a-textlocal-api-key",children:"Get a Textlocal API key"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#customize-your-sender-name-optional",children:"Customize your sender name"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#configure-supabase",children:"Configure your Supabase project"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"get-a-textlocal-api-key",children:"Get a Textlocal API key"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Log into your Textlocal account and go to ",(0,r.jsx)(n.code,{children:"Settings"})," > ",(0,r.jsx)(n.code,{children:"API Keys"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Generate a new API Key. Save your new API key in a safe location."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"customize-your-sender-name-optional",children:"Customize your sender name (Optional)"}),"\n",(0,r.jsxs)(n.p,{children:["Textlocal defaults to ",(0,r.jsx)(n.code,{children:"TXTLCL"})," as the sender name for all messages. You can customize this to better reflect your brand:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["In your Textlocal dashboard, go to ",(0,r.jsx)(n.code,{children:"Settings"})," > ",(0,r.jsx)(n.code,{children:"All Settings"})," > ",(0,r.jsx)(n.code,{children:"Sender Names"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Change your sender name."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"configure-supabase",children:"Configure Supabase"}),"\n",(0,r.jsx)(n.p,{children:"To set up Textlocal as your SMS provider in Supabase, follow these steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["In your Supabase Dashboard, go to the ",(0,r.jsx)(n.a,{href:"https://supabase.com/dashboard/project/_/auth/providers",children:"Auth Providers section"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["From the list of available authentication providers, select ",(0,r.jsx)(n.code,{children:"Phone"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Toggle ",(0,r.jsx)(n.code,{children:"Enable Phone Provider"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Under ",(0,r.jsx)(n.code,{children:"SMS Provider"}),", select ",(0,r.jsx)(n.code,{children:"Textlocal."})]}),"\n",(0,r.jsx)(n.li,{children:"Enter your Textlocal API Key and Sender Name."}),"\n",(0,r.jsx)(n.li,{children:"Customize your SMS Message (optional)."}),"\n"]})]})}var w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,c.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(b,e)})):b(e)};let y=(e,n)=>{let t=new URL(document.location.href);return n?t.searchParams.set("showSmsProvider",encodeURIComponent(n.name)):t.searchParams.delete("showSmsProvider"),window.history.replaceState(null,"",t),n};var v=()=>{let[e,n]=(0,s.useReducer)(y,void 0);(0,s.useEffect)(()=>{var e;let t=new URLSearchParams(null!==(e=document.location.search)&&void 0!==e?e:"").get("showSmsProvider");if(!t)return;let r=o.PhoneLoginsItems.find(e=>e.name===decodeURIComponent(t));r&&n(r)},[]);let t=(0,s.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("section",{"aria-labelledby":"sms-provider-configuration",children:[(0,r.jsx)("h3",{className:"sr-only",id:"sms-provider-configuration",children:"Configuring SMS Providers"}),(0,r.jsx)("div",{className:"grid grid-cols-6 gap-10 not-prose py-8",children:o.PhoneLoginsItems.map(e=>(0,r.jsx)("button",{className:"col-span-6 xl:col-span-3",onClick:()=>n(e),children:(0,r.jsx)(i.IconPanel,{title:e.name,icon:e.icon,hasLightIcon:e.hasLightIcon})},e.name))})]}),(0,r.jsx)(a.Dialog,{open:!!e,onOpenChange:e=>!e&&n(void 0),children:e&&(0,r.jsxs)(a.DialogContent,{className:"!w-[min(90vw,80ch)] !max-w-[min(90vw,80ch)] !max-h-[90dvh] prose overflow-auto",onOpenAutoFocus:e=>{var n;e.preventDefault(),null===(n=t.current)||void 0===n||n.focus()},children:[(0,r.jsx)(a.DialogHeader,{className:"pb-0 [&>h3]:!m-0 [&>h3>a]:!hidden [&>h3:focus-visible]:outline-none",children:(0,r.jsx)(l.default,{tag:"h3",ref:t,tabIndex:-1,children:e.name})}),(0,r.jsxs)(a.DialogSection,{className:"[&>:first-child]:mt-0",children:[e.name.toLowerCase().includes("messagebird")&&(0,r.jsx)(g,{}),e.name.toLowerCase().includes("twilio")&&(0,r.jsx)(f,{}),e.name.toLowerCase().includes("vonage")&&(0,r.jsx)(j,{}),e.name.toLowerCase().includes("textlocal")&&(0,r.jsx)(w,{})]})]})})]})}},85152:function(e,n,t){t.d(n,{Extensions:function(){return i}});var r=t(84570),s=t(14627);let o=(0,s.lazy)(()=>t.e(294).then(t.bind(t,40294)));function i(){return(0,r.jsx)(s.Suspense,{children:(0,r.jsx)(o,{})})}},69461:function(e,n,t){t.d(n,{JwtGenerator:function(){return a}});var r=t(84570),s=t(6392),o=t(14627);let i=(0,s.default)(()=>Promise.all([t.e(4504),t.e(760),t.e(4307)]).then(t.bind(t,64307)),{loadableGenerated:{webpack:()=>[64307]},ssr:!1}),a=()=>(0,r.jsx)(o.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(i,{})})},5524:function(e,n,t){t.d(n,{ProjectConfigVariables:function(){return $}});var r=t(84570),s=t(10648),o=t(51257),i=t(99237),a=t(14627),l=t(99441),c=t.n(l),d=t(36692),h=t(5982),u=t(22521),p=t(41367),g=t(19903),m=t(43225),f=t(65999),x=t(38545),j=t(14390),b=t.n(j),w=t(12565),y=t(64859),v=t(25295);function S(e){var n;let{isLoading:t,disabled:o,name:i,options:l,selectedOption:c,onSelectOption:d=b(),className:h}=e,[u,p]=(0,a.useState)(!1),m=null===(n=l.find(e=>e.value===c))||void 0===n?void 0:n.displayName;return(0,r.jsxs)(w.Popover,{open:u,onOpenChange:p,children:[(0,r.jsx)(w.PopoverTrigger,{asChild:!0,children:(0,r.jsxs)(f.Button,{variant:"outline",role:"combobox",disabled:o,"aria-expanded":u,className:(0,g.cn)("overflow-hidden","h-auto min-h-10","flex justify-between","border-none","py-0 pl-0 pr-1 text-left",h),children:[t?"Loading...":0===l.length?"No ".concat(i," found"):null!=m?m:"Select a ".concat(i,"..."),(0,r.jsx)(x.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,r.jsx)(w.PopoverContent,{className:"p-0",side:"bottom",children:(0,r.jsxs)(y.Command,{children:[(0,r.jsx)(y.CommandInput,{placeholder:"Search ".concat(i,"..."),className:"border-none ring-0"}),(0,r.jsxs)(y.CommandList,{children:[(0,r.jsxs)(y.CommandEmpty,{children:["No ",i," found."]}),(0,r.jsx)(y.CommandGroup,{children:(0,r.jsx)(v.ScrollArea,{className:l.length>10?"h-[280px]":"",children:l.map(e=>(0,r.jsxs)(y.CommandItem,{value:e.value,onSelect:e=>{p(!1),d(e)},className:"cursor-pointer",children:[(0,r.jsx)(s.Z,{className:(0,g.cn)("mr-2 h-4 w-4",c===e.value?"opacity-100":"opacity-0")}),e.displayName]},e.id))})})]})]})})]})}function T(e){return e.replaceAll('"',"")}function P(e){return e.replaceAll('"','\\"')}function I(e){return e.replace(RegExp('(?<!(?:^|[^\\\\])\\\\(?:\\\\\\\\)*)\\\\"',"g"),'"')}let A={url:"Project URL",anonKey:"Anon key",sessionPooler:"Connection string (pooler session mode)"};function C(e,n){return"".concat(e.name," / ").concat(n.name)}function N(e,n){return P(JSON.stringify([e.id,n.ref,T(C(e,n))]))}function k(e){return P(JSON.stringify([e.id,T(e.name)]))}var O=t(32826),M=t(55532);let _=e=>["projects",e,"branches"];async function D(e,n){let{projectRef:t}=e;if(!t)throw Error("projectRef is required");let{data:r,error:s}=await (0,O.U)("/v1/projects/{ref}/branches",{params:{path:{ref:t}},signal:n});if(s)throw s;return r}let E=()=>["organizations"];async function R(e){let{data:n,error:t}=await (0,O.U)("/platform/organizations",{signal:e});if(t)throw t;return n}let L=e=>["supavisor","config",e];async function V(e,n){let{projectRef:t}=e;if(!t)throw Error("projectRef is required");let{data:r,error:s}=await (0,O.U)("/platform/projects/{ref}/config/supavisor",{params:{path:{ref:t}},signal:n});if(s)throw s;return r}let F=e=>["projects",e,"api"];async function q(e,n){let{projectRef:t}=e;if(!t)throw Error("projectRef is required");let{data:r,error:s}=await (0,O.U)("/platform/projects/{ref}/settings",{params:{path:{ref:t}},signal:n});if(s)throw s;return r}let B=()=>["all-projects"];async function J(e){let{data:n,error:t}=await (0,O.U)("/platform/projects",{signal:e});if(t)throw t;return n}function U(e){return e?"INACTIVE"===e.status:void 0}var z=t(3710),G=t(57668);let Y=(0,h.sj)({selectedOrg:null,selectedProject:null,setSelectedOrgProject:(e,n)=>{Y.selectedOrg=e,(0,z.$4)("local",z.dA.SAVED_ORG,null==e?void 0:e.id.toString()),Y.selectedProject=n,(0,z.$4)("local",z.dA.SAVED_PROJECT,null==n?void 0:n.ref)},selectedBranch:null,setSelectedBranch:e=>{Y.selectedBranch=e,(0,z.$4)("local",z.dA.SAVED_BRANCH,null==e?void 0:e.id)},clear:()=>{Y.setSelectedOrgProject(null,null),Y.setSelectedBranch(null)}});function K(){let e=(0,p.useIsUserLoading)(),n=(0,p.useIsLoggedIn)(),{selectedOrg:t,selectedProject:s,setSelectedOrgProject:o}=(0,u.R)(Y),{data:i,isPending:l,isError:c}=function(){let{enabled:e=!0,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,M.a)({queryKey:E(),queryFn:e=>{let{signal:n}=e;return R(n)},enabled:e,...n})}({enabled:n}),{data:d,isPending:h,isError:g}=function(){let{enabled:e=!0,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,M.a)({queryKey:B(),queryFn:e=>{let{signal:n}=e;return J(n)},enabled:e,...n})}({enabled:n}),m=e?"userLoading":n?l||h?"loggedIn.dataPending":c||g?"loggedIn.dataError":(null==d?void 0:d.length)===0?"loggedIn.dataSuccess.hasNoData":"loggedIn.dataSuccess.hasData":"loggedOut",f=(0,a.useMemo)(()=>"loggedIn.dataSuccess.hasData"!==m?[]:d.map(e=>{let n=i.find(n=>n.id===e.organization_id);return{id:e.ref,value:N(n,e),displayName:C(n,e)}}),[i,d,m]);return(0,a.useEffect)(()=>{if("loggedIn.dataSuccess.hasData"===m&&(!t||!s)){let e,n;let t=(0,z.Jv)("local",z.dA.SAVED_ORG),r=(0,z.Jv)("local",z.dA.SAVED_PROJECT);if(t&&r&&(e=i.find(e=>e.id===Number(t)),n=d.find(e=>e.ref===r)),e&&n&&n.organization_id===e.id)o(e,n);else{let e=d[0],n=i.find(n=>n.id===e.organization_id);n&&o(n,e)}}},[i,d,t,s,o,m]),(0,r.jsx)(S,{name:"project",isLoading:"userLoading"===m||"loggedIn.dataPending"===m,disabled:"loggedOut"===m||"loggedIn.dataError"===m||"loggedIn.dataSuccess.hasNoData"===m,options:f,selectedOption:t&&s?N(t,s):void 0,onSelectOption:e=>{let[n,t]=function(e){try{let n=JSON.parse(I(e));if(!Array.isArray(n)||3!==n.length)throw Error("Shape of parsed JSON doesn't match form of org and project value");return n}catch(e){return[null,null,null]}}(e);if(!n||!t)return;let r=i.find(e=>e.id===n),s=d.find(e=>e.ref===t);r&&s&&s.organization_id===r.id&&o(r,s)}})}function W(){var e;let n=(0,p.useIsUserLoading)(),t=(0,p.useIsLoggedIn)(),{selectedProject:s,selectedBranch:o,setSelectedBranch:i}=(0,u.R)(Y),l=U(s),c=null!==(e=null==s?void 0:s.is_branch_enabled)&&void 0!==e&&e,{data:d,isPending:h,isError:g}=function(e,n){let{projectRef:t}=e,{enabled:r=!0,...s}=n;return(0,M.a)({queryKey:_(t),queryFn:e=>{let{signal:n}=e;return D({projectRef:t},n)},enabled:r,...s})}({projectRef:null==s?void 0:s.ref},{enabled:t&&!l&&c}),m=n?"userLoading":t?!c||l?"loggedIn.noBranches":h?"loggedIn.branches.dataPending":g?"loggedIn.branches.dataError":0===d.length?"loggedIn.branches.dataSuccess.noData":"loggedIn.branches.dataSuccess.hasData":"loggedOut",f="loggedIn.branches.dataSuccess.hasData"!==m?[]:d.map(e=>({id:e.id,displayName:e.name,value:k(e)}));return(0,a.useEffect)(()=>{if("loggedIn.branches.dataSuccess.hasData"===m&&!o){let e;let n=(0,z.Jv)("local",z.dA.SAVED_BRANCH);if(n&&(e=d.find(e=>e.id===n)),e)i(e);else{let e=d.find(e=>e.project_ref===e.parent_project_ref);i(null!=e?e:d[0])}}},[d,o,i,m]),c?(0,r.jsx)(S,{name:"branch",isLoading:"userLoading"===m||"loggedIn.branches.dataPending"===m,disabled:"loggedOut"===m||"loggedIn.noBranches"===m||"loggedIn.branches.dataError"===m||"loggedIn.branches.dataSuccess.noData"===m,options:f,selectedOption:o?k(o):void 0,onSelectOption:e=>{let[n]=function(e){try{let n=JSON.parse(I(e));if(!Array.isArray(n)||2!==n.length)throw Error("Shape of parsed JSON doesn't match form of branch value");return n}catch(e){return[null,null]}}(e);if(n){let e=d.find(e=>e.id===n);e&&i(e)}}}):null}function Z(e){var n;let{variable:t,className:l}=e,d=(0,p.useIsUserLoading)(),h=(0,p.useIsLoggedIn)(),{selectedProject:x,selectedBranch:j}=(0,u.R)(Y),b=U(x),w=null!==(n=null==x?void 0:x.is_branch_enabled)&&void 0!==n&&n?null==j?void 0:j.project_ref:null==x?void 0:x.ref,y="anonKey"===t||"url"===t,{data:v,isPending:S,isError:T}=function(e){let{projectRef:n}=e,{enabled:t=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,M.a)({queryKey:F(n),queryFn:e=>{let{signal:t}=e;return q({projectRef:n},t)},enabled:t,...r})}({projectRef:w},{enabled:h&&!!w&&!b&&y}),{data:P,isPending:I,isError:C}=function(e,n){let{projectRef:t}=e,{enabled:r=!0,...s}=n;return(0,M.a)({queryKey:L(t),queryFn:e=>{let{signal:n}=e;return V({projectRef:t},n)},enabled:r,...s})}({projectRef:w},{enabled:h&&!!w&&!b&&"sessionPooler"===t}),N=d?"userLoading":h?w?b?"loggedIn.selectedProject.projectPaused":(y?S:I)?"loggedIn.selectedProject.dataPending":(y?T||function(e){var n,r;switch(t){case"url":return!(null===(n=e.app_config)||void 0===n?void 0:n.endpoint);case"anonKey":return!(null===(r=e.service_api_keys)||void 0===r?void 0:r.some(e=>"anon"===e.tags))}}(v):C||0===P.length)?"loggedIn.selectedProject.dataError":"loggedIn.selectedProject.dataSuccess":"loggedIn.noSelectedProject":"loggedOut",k=null;if("loggedIn.selectedProject.dataSuccess"===N)switch(t){case"url":k="https://".concat(v.app_config.endpoint);break;case"anonKey":k=v.service_api_keys.find(e=>"anon"===e.tags).api_key;break;case"sessionPooler":k=P[0].connection_string}let{copied:O,handleCopy:_}=function(){let[e,n]=(0,a.useState)(!1);return{copied:e,handleCopy:function(){n(!0),setTimeout(()=>{n(!1)},1e3)}}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:(0,g.cn)("flex items-center gap-2",l),children:[(0,r.jsx)(m.I,{disabled:!0,type:"text",className:"font-mono",value:"userLoading"===N||"loggedIn.selectedProject.dataPending"===N?"Loading...":"loggedIn.selectedProject.projectPaused"===N?"PROJECT PAUSED":"loggedIn.selectedProject.dataSuccess"===N?k:"YOUR ".concat(A[t].toUpperCase())}),(0,r.jsx)(c(),{text:null!=k?k:"",children:(0,r.jsx)(f.Button,{disabled:!k,variant:"ghost",className:"px-0",onClick:_,"aria-label":"Copy",children:O?(0,r.jsx)(s.Z,{}):(0,r.jsx)(o.Z,{})})})]}),"loggedIn.selectedProject.dataError"===N&&(0,r.jsxs)("p",{className:"text-foreground-muted text-sm mt-2 mb-0 ml-1",children:["You can also copy your ",A[t]," from the"," ",(0,r.jsx)(i.default,{className:"text-foreground-muted",href:"https://supabase.com/dashboard/project/_/settings/api",rel:"noreferrer noopener",target:"_blank",children:"dashboard"}),"."]})]})}function H(e){let{variable:n}=e,t=(0,p.useIsUserLoading)(),s=(0,p.useIsLoggedIn)();return t||s?null:(0,r.jsxs)("p",{className:"text-foreground-muted text-sm mt-2 mb-0 ml-1",children:["To get your ",A[n],","," ",(0,r.jsx)(i.default,{className:"text-foreground-muted",href:"https://supabase.com/dashboard",rel:"noreferrer noopener",target:"_blank",children:"log in"}),"."]})}let $=(0,d.Pf)(function(e){let{variable:n}=e,{clear:t}=(0,u.R)(Y);return(0,G._s)(t),(0,r.jsxs)("div",{className:"max-w-[min(100%, 500px)] my-6",children:[(0,r.jsx)("h6",{className:(0,g.cn)("mt-0 mb-1","text-foreground"),children:A[n]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-x-6",children:[(0,r.jsx)(K,{}),(0,r.jsx)(W,{})]}),(0,r.jsx)(Z,{variable:n,className:"mt-1"}),(0,r.jsx)(H,{variable:n})]})},{fallback:(0,r.jsxs)("p",{children:["Couldn't display your API settings. You can get them from the"," ",(0,r.jsx)(i.default,{href:"https://supabase.com/dashboard/project/_/settings/api",rel:"noreferrer noopener",target:"_blank",children:"dashboard"}),"."]})})},11996:function(e,n,t){t.d(n,{RealtimeLimitsEstimator:function(){return i}});var r=t(84570),s=t(14627);let o=(0,s.lazy)(()=>t.e(6687).then(t.bind(t,66687)));function i(){return(0,r.jsx)(s.Suspense,{children:(0,r.jsx)(o,{})})}},97543:function(e,n,t){t.d(n,{CodeSampleDummy:function(){return a},CodeSampleWrapper:function(){return l}});var r=t(84570),s=t(99237),o=t(75267),i=t(82429);function a(){return(0,r.jsxs)(i.J,{type:"caution",title:"Local development warning",children:["The ",(0,r.jsx)("code",{children:"$CodeSample"})," directive with external repos is not supported in local development because it relies on a GitHub API key. Please check the preview site to see the final UI."]})}function l(e){let{children:n,source:t}=e,s=Array.isArray(t)?t:[t];return 1===s.length?(0,r.jsx)(d,{source:s[0],children:n}):s.length>1?(0,r.jsx)(c,{sources:s,children:n}):(0,r.jsx)(r.Fragment,{children:n})}function c(e){let{children:n,sources:t}=e;return(0,r.jsxs)(r.Fragment,{children:[n,(0,r.jsxs)(o.DropdownMenu,{children:[(0,r.jsx)(o.DropdownMenuTrigger,{asChild:!0,children:(0,r.jsx)("button",{className:"block -mt-4 mb-4 ml-auto text-foreground-lighter text-sm focus-visible:outline-none focus-visible:underline",children:"View sources"})}),(0,r.jsx)(o.DropdownMenuContent,{align:"end",children:t.map(e=>(0,r.jsxs)(o.DropdownMenuItem,{onSelect:()=>window.open(e.toString(),"_blank","noopener noreferrer"),children:["...",e.toString().split("/").slice(-2).join("/")]},e.toString()))})]})]})}function d(e){let{children:n,source:t}=e;return(0,r.jsxs)(r.Fragment,{children:[n,(0,r.jsx)(s.default,{href:t.toString(),target:"_blank",rel:"noopener noreferrer",className:"block -mt-5 mb-4 text-right no-underline text-foreground-lighter text-sm",children:"View source"})]})}},10781:function(e,n,t){t.d(n,{OD:function(){return l},Ty:function(){return i},fe:function(){return a},m2:function(){return d}});var r=t(14627),s=t(22521),o=t(5982);let i=(0,r.createContext)(void 0),a=()=>{let e=(0,r.useContext)(i);if(!e)throw Error("useTocAnchors must be used within an TocAnchorsContext");return e},l=()=>{let{toggleRenderFlag:e}=(0,s.R)(c);return e},c=(0,o.sj)({renderFlag:0,toggleRenderFlag:()=>void(c.renderFlag=(c.renderFlag+1)%2)}),d=()=>{let{renderFlag:e}=(0,s.R)(c)}},45191:function(e,n,t){t.d(n,{Accordion:function(){return s},AccordionItem:function(){return o}});var r=t(35688);let s=r.default,o=r.default.Item},92099:function(e,n,t){t.d(n,{AnnotatedSpan:function(){return c},CodeCopyButton:function(){return h}});var r=t(84570),s=t(10648),o=t(51257),i=t(14627),a=t(28851),l=t(19903);function c(e){let{token:n,annotations:t}=e,[s,o]=(0,i.useState)(!1),[c,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>{h(!window.matchMedia("(pointer: fine)").matches)},[]);let u=(0,i.useCallback)(e=>{c&&(e.preventDefault(),e.stopPropagation(),o(e=>!e))},[c]),p=(0,i.useCallback)(e=>{c&&e||o(e)},[c]);return(0,r.jsxs)(a.Tooltip,{open:s,onOpenChange:p,children:[(0,r.jsx)(a.TooltipTrigger,{asChild:!0,onClick:u,children:(0,r.jsx)("button",{style:n.htmlStyle,className:(0,l.cn)(c&&"underline underline-offset-4 decoration-dashed [text-decoration-color:rgba(from_currentColor_r_g_b_/_0.5)]"),children:n.content})}),(0,r.jsx)(a.TooltipContent,{className:"max-w-[min(80vw,400px)] p-0 divide-y",children:t.map((e,n)=>(0,r.jsx)(d,{annotation:e},n))})]})}function d(e){let{annotation:n}=e,{text:t,docs:s,tags:o}=n;return(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("code",{className:(0,l.cn)("block bg-200 p-2",(s||o)&&"border-b border-default"),children:t}),s&&(0,r.jsx)("p",{className:(0,l.cn)("p-2",o&&"border-b border-default"),children:s}),o&&(0,r.jsx)("div",{className:"p-2 flex flex-col",children:o.map((e,n)=>(0,r.jsxs)("span",{children:[(0,r.jsxs)("code",{children:["@",e[0]]})," ",e[1]]},n))})]})}function h(e){let{className:n,content:t}=e,[a,c]=(0,i.useState)(!1),d=async()=>{try{await navigator.clipboard.writeText(t),c(!0),setTimeout(()=>c(!1),1e3)}catch(e){console.error("Failed to copy text: ",e)}};return(0,r.jsx)("button",{onClick:d,className:(0,l.cn)("border rounded-md p-1",a&&"bg-selection","hover:bg-selection transition",n),children:a?(0,r.jsx)(s.Z,{size:14,className:"text-lighter"}):(0,r.jsx)(o.Z,{size:14,className:"text-lighter"})})}},90372:function(e,n,t){var r=t(84570),s=t(14627),o=t(80138),i=t(40388),a=t(36692),l=t(41367),c=t(19903),d=t(28851),h=t(28792),u=t(64859),p=t(64165);let g=(0,c.cn)("relative px-1 py-0 -my-px","rounded bg-surface-200 border border-dashed","transition-colors hover:border-strong group/inline-popup");n.default=e=>{let{children:n,className:t,tooltipContent:m,contentContainerClassName:f}=e,x=(0,s.useId)().replaceAll(":",""),j=(0,s.useRef)(null),[b,w]=(0,s.useState)(!1),[y,v]=(0,s.useState)(!1),S=(0,l.useBreakpoint)("md"),T=(0,s.useCallback)(e=>{v(e),w(!0),j.current=setTimeout(()=>{if(S)return;let e=document.querySelector("#tooltip-content-".concat(x));null==e||e.focus()})},[v,x,S]);return(0,s.useEffect)(()=>()=>clearTimeout(j.current),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.Tooltip,{open:y,onOpenChange:e=>!S&&T(e),children:[(0,r.jsx)(d.TooltipTrigger,{asChild:!0,children:(0,r.jsxs)("span",{role:"button",tabIndex:0,onClick:()=>w(!0),className:(0,c.cn)(g,t),children:[n,(0,r.jsx)(o.Z,{"aria-hidden":!0,className:"absolute p-[1px] bg-background rounded-full -left-1.5 -top-1.5 w-3 h-3 text-foreground-lighter group-hover/inline-popup:text-foreground-light transition-colors"})]})}),(0,r.jsx)(d.TooltipContent,{id:"tooltip-content-".concat(x),className:f,children:m})]}),S&&(0,r.jsx)(h.Sheet,{open:b,onOpenChange:w,children:(0,r.jsx)(h.SheetContent,{id:"mobile-sheet-content-".concat(x),showClose:!1,size:"full",side:"bottom",className:(0,c.cn)("md:hidden","text-foreground-lighter","rounded-t-lg overflow-hidden overflow-y-scroll","w-full h-fit min-h-[200px] py-2 px-4"),children:(0,r.jsxs)(a.SV,{FallbackComponent:()=>(0,r.jsx)(u.CommandEmpty,{}),children:[(0,r.jsxs)(h.SheetHeader,{className:"flex items-center justify-between gap-2 px-0 py-2 mb-2 max-w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 max-w-[90%]",children:[(0,r.jsx)(o.Z,{className:"p-[1px] min-w-4 min-h-4 text-foreground-lighter"}),(0,r.jsx)("p",{className:"italic text-foreground-light truncate",children:n})]}),(0,r.jsx)(p.Button,{type:"text",onClick:()=>w(!1),className:"px-1",children:(0,r.jsx)(i.Z,{className:"w-4 h-4 text-foreground-lighter"})})]}),m]})})})]})}},7684:function(e,n,t){let r,s;t.r(n),t.d(n,{TabPanel:function(){return x},Tabs:function(){return j}});var o=t(84570),i=t(14627),a=t(25335),l=t(55444);let c=function(){let{enabled:e=!0,style:n={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.useRef)(null),r=(0,i.useCallback)(e=>{if(t.current){if(e)for(let e in t.current.style.position="sticky",t.current.style.top="100px",t.current.style.zIndex="5",n)t.current.style[e]=n[e];else for(let e in t.current.style.position="",t.current.style.top="",t.current.style.zIndex="",n)t.current.style[e]=""}},[JSON.stringify(n)]),{ref:s,inView:o}=(0,l.useInView)({threshold:.1,onChange:r,skip:!e});return{inView:o,observedRef:s,stickyRef:t}};var d=t(41367),h=t(20557),u=t.n(h);let p=e=>"string"==typeof e,g="supabase.ui-patterns.ComplexTabs.withQueryParams.v0";var m=t(10781);let f=(r=a.default,s=e=>{let{children:n,queryGroup:t,onClick:s,...a}=e,l=i.Children.toArray(n).map(e=>!!e&&"object"==typeof e&&"props"in e&&e.props.id).filter(p),c=(0,i.useRef)(l);c.current=l;let h=(0,i.useRef)(t);h.current=t;let m=(0,d.useSearchParamsShallow)(),f=h.current&&m.get(h.current),x=f&&c.current.includes(f)?f:void 0,j=(0,i.useRef)(!1);(0,i.useEffect)(()=>{if(j.current||(setTimeout(()=>{if(h.current&&!new URLSearchParams(window.location.search).has(h.current))try{var e;let n=JSON.parse(null!==(e=localStorage.getItem(g))&&void 0!==e?e:"");if(null===n||"object"!=typeof n)return;let t=null,r=c.current.length;Object.entries(n).forEach(e=>{let[n,s]=e,o=n.split(","),i=u()(o,c.current);i.length<r&&(r=i.length,t=s)}),t&&c.current.includes(t)&&b(t)}catch(e){}},300),j.current=!0),h.current&&x){let n={};try{var e;let t=JSON.parse(null!==(e=localStorage.getItem(g))&&void 0!==e?e:"");t&&"object"==typeof t&&(n=t)}catch(e){}n[c.current.sort().join(",")]=x;try{localStorage.setItem(g,JSON.stringify(n))}catch(e){}}},[x]);let b=e=>{h.current&&(m.getAll("queryGroups").includes(h.current)||m.append("queryGroups",h.current),m.set(h.current,e))};return(0,o.jsx)(r,{...a,activeId:x,onClick:e=>{b(e),null==s||s(e)},children:n})},e=>{let{stickyTabList:n,onClick:t,...r}=e,{inView:a,observedRef:l,stickyRef:d}=c({enabled:!!n,style:null==n?void 0:n.style}),h=(0,i.useCallback)(e=>{if(n&&a&&d.current){let e=d.current;for(;e&&!e.matches('[role="tabpanel"][data-state="active"]');)e=e.nextElementSibling;if(!e)return;let t=e.getBoundingClientRect().top;e.style.scrollMarginTop=(null==n?void 0:n.scrollMarginTop)||"0px",t<0&&e.scrollIntoView({behavior:window.matchMedia("(prefers-reduced-motion: no-preference)").matches?"smooth":"instant"})}null==t||t(e)},[!!n,a,t]);return(0,o.jsx)(s,{...r,onClick:h,refs:{base:l,list:d}})}),x=a.default.Panel,j=e=>{let{onChange:n,stickyTabList:t,...r}=e,s=(0,m.OD)(),a=(0,i.useCallback)(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s(),null==n||n(...t)},[s,n]);return t&&!t.scrollMarginTop&&(t.scrollMarginTop="calc(var(--header-height) + 43px + 20px)"),(0,o.jsx)(f,{wrappable:!0,onChange:a,stickyTabList:t,...r})}},32826:function(e,n,t){t.d(n,{U:function(){return c},v:function(){return d}});var r=t(72855),s=t(13711),o=t(12890),i=t(57668);let a=(0,r.ZP)({baseUrl:o.T5,referrerPolicy:"no-referrer-when-downgrade",headers:{"Content-Type":"application/json",Accept:"application/json"}});async function l(e){let n=(0,s.Z)(),t=new Headers(e);if(t.set("X-Request-Id",n),!t.has("Authorization")){let e=await (0,i.hP)();e&&t.set("Authorization","Bearer ".concat(e))}return t}a.use({async onRequest(e){let{request:n}=e;return(await l(n.headers)).forEach((e,t)=>{n.headers.set(t,e)}),n}});let{GET:c,POST:d}=a},23309:function(e,n,t){t.d(n,{default:function(){return c}});var r=t(84570),s=t(6392),o=t(36692),i=t(82429);function a(e){let{error:n}=e;return n instanceof Error&&"WebAssembly is not defined"===n.message?(0,r.jsx)(i.J,{type:"danger",title:"WebAssembly is not supported in this browser",children:(0,r.jsx)("p",{children:"The translator requires WebAssembly to run. Your browser might be outdated or it might have a policy that disables WebAssembly."})}):(0,r.jsx)(i.J,{type:"danger",title:"Something went wrong",children:(0,r.jsx)("pre",{children:n instanceof Error?n.message:JSON.stringify(n)})})}let l=(0,s.default)(()=>Promise.all([t.e(4123),t.e(5055),t.e(4353),t.e(760),t.e(7015),t.e(6930),t.e(3717)]).then(t.bind(t,63717)));function c(e){return(0,r.jsx)(o.SV,{FallbackComponent:a,children:(0,r.jsx)(l,{...e})})}}}]);