(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4683],{60776:function(e,t,r){"use strict";r.d(t,{LY:function(){return eg},aC:function(){return eh}});let n="2.69.0-rc.3",i={"X-Client-Info":`gotrue-js/${n}`},a="X-Supabase-Api-Version",s={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class l extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function u(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class c extends l{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class h extends l{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class d extends l{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class f extends d{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class p extends d{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class g extends d{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class y extends d{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class v extends d{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _ extends d{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function m(e){return u(e)&&"AuthRetryableFetchError"===e.name}class w extends d{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class b extends d{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}let S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),P=" 	\n\r=".split(""),k=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<P.length;t+=1)e[P[t].charCodeAt(0)]=-2;for(let t=0;t<S.length;t+=1)e[S[t].charCodeAt(0)]=t;return e})();function x(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)r(S[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)r(S[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function j(e,t,r){let n=k[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(-2===n)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function T(e){let t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127){r(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)==0){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let t=0;t<e.length;t+=1)j(e.charCodeAt(t),i,a);return t.join("")}function O(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){let t=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|t)+65536,r+=1}!function(e,t){if(e<=127){t(e);return}if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(n,t)}}let E=()=>"undefined"!=typeof window&&"undefined"!=typeof document,A={tested:!1,writable:!1},I=()=>{if(!E())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(A.tested)return A.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),A.tested=!0,A.writable=!0}catch(e){A.tested=!0,A.writable=!1}return A.writable},R=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>r.e(8601).then(r.bind(r,88601)).then(({default:t})=>t(...e)):t=fetch,(...e)=>t(...e)},C=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,L=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},M=async(e,t)=>{let r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},N=async(e,t)=>{await e.removeItem(t)};class q{constructor(){this.promise=new q.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function U(e){let t=e.split(".");if(3!==t.length)throw new b("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!o.test(t[e]))throw new b("JWT not in base64url format");return{header:JSON.parse(T(t[0])),payload:JSON.parse(T(t[1])),signature:function(e){let t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)j(e.charCodeAt(t),r,n);return new Uint8Array(t)}(t[2]),raw:{header:t[0],payload:t[1]}}}async function D(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $(e){return("0"+e.toString(16)).substr(-2)}async function B(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join("")}async function H(e){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder?function(e){let t=[],r=e=>{t.push(e)},n={queue:0,queuedBits:0};return O(e,e=>{x(e,n,r)}),x(null,n,r),t.join("")}(await B(e)):(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e)}async function z(e,t,r=!1){let n=function(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,$).join("")}(),i=n;r&&(i+="/PASSWORD_RECOVERY"),await L(e,`${t}-code-verifier`,i);let a=await H(n),s=n===a?"plain":"s256";return[a,s]}q.promiseConstructor=Promise;let F=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var W=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let G=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),V=[502,503,504];async function K(e){var t;let r,n;if(!C(e))throw new _(G(e),0);if(V.includes(e.status))throw new _(G(e),e.status);try{r=await e.json()}catch(e){throw new h(G(e),e)}let i=function(e){let t=e.headers.get(a);if(!t||!t.match(F))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(i&&i.getTime()>=s["2024-01-01"].timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?n=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(n=r.error_code),n){if("weak_password"===n)throw new w(G(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===n)throw new f}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new w(G(r),e.status,r.weak_password.reasons);throw new c(G(r),e.status||500,n)}let J=(e,t,r,n)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function X(e,t,r,n){var i;let o=Object.assign({},null==n?void 0:n.headers);o[a]||(o[a]=s["2024-01-01"].name),(null==n?void 0:n.jwt)&&(o.Authorization=`Bearer ${n.jwt}`);let l=null!==(i=null==n?void 0:n.query)&&void 0!==i?i:{};(null==n?void 0:n.redirectTo)&&(l.redirect_to=n.redirectTo);let u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Y(e,t,r+u,{headers:o,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Y(e,t,r,n,i,a){let s;let o=J(t,n,i,a);try{s=await e(r,Object.assign({},o))}catch(e){throw console.error(e),new _(G(e),0)}if(s.ok||await K(s),null==n?void 0:n.noResolveJson)return s;try{return await s.json()}catch(e){await K(e)}}function Z(e){var t,r;let n=null;return e.access_token&&e.refresh_token&&e.expires_in&&(n=Object.assign({},e),!e.expires_at)&&(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)),{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Q(e){let t=Z(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function ee(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function et(e){return{data:e,error:null}}function er(e){let{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e;return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},user:Object.assign({},W(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function en(e){return e}var ei=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class ea{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=R(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(u(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ee})}catch(e){if(u(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,r=ei(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:er,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(u(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ee})}catch(e){if(u(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,n,i,a,s,o;try{let l={nextPage:null,lastPage:0,total:0},u=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(i=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==i?i:""},xform:en});if(u.error)throw u.error;let c=await u.json(),h=null!==(a=u.headers.get("x-total-count"))&&void 0!==a?a:0,d=null!==(o=null===(s=u.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(u(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){try{return await X(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ee})}catch(e){if(u(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ee})}catch(e){if(u(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ee})}catch(e){if(u(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){try{let{data:t,error:r}=await X(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(u(e))return{data:null,error:e};throw e}}async _deleteFactor(e){try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(u(e))return{data:null,error:e};throw e}}}let es={getItem:e=>I()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{I()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{I()&&globalThis.localStorage.removeItem(e)}};function eo(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}let el={debug:!!(globalThis&&I()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class eu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ec extends eu{}async function eh(e,t,r){el.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),el.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(n){el.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{el.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(0===t)throw el.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ec(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(el.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();let ed={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ef(e,t,r){return await r()}class ep{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ep.nextInstanceID,ep.nextInstanceID+=1,this.instanceID>0&&E()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let n=Object.assign(Object.assign({},ed),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new ea({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=R(n.fetch),this.lock=n.lock||ef,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:E()&&(null===(t=null==globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=eh:this.lock=ef,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:I()?this.storage=es:(this.memoryStorage={},this.storage=eo(this.memoryStorage)):(this.memoryStorage={},this.storage=eo(this.memoryStorage)),E()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${n}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t=function(e){let t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(e){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),E()&&this.detectSessionInUrl&&"none"!==r){let{data:n,error:i}=await this._getSessionFromURL(t,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),u(i)&&"AuthImplicitGrantRedirectError"===i.name){let t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}let{session:a,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(u(e))return{error:e};return{error:new h("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{let{data:i,error:a}=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:Z});if(a||!i)return{data:{user:null,session:null},error:a};let s=i.session,o=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:o,session:s},error:null}}catch(e){if(u(e))return{data:{user:null,session:null},error:e};throw e}}async signUp(e){var t,r,n;try{let i;if("email"in e){let{email:r,password:n,options:a}=e,s=null,o=null;"pkce"===this.flowType&&([s,o]=await z(this.storage,this.storageKey)),i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==a?void 0:a.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:o},xform:Z})}else if("phone"in e){let{phone:t,password:a,options:s}=e;i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(r=null==s?void 0:s.data)&&void 0!==r?r:{},channel:null!==(n=null==s?void 0:s.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:Z})}else throw new g("You must provide either an email or phone number and a password");let{data:a,error:s}=i;if(s||!a)return{data:{user:null,session:null},error:s};let o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(u(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if("email"in e){let{email:r,password:n,options:i}=e;t=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Q})}else if("phone"in e){let{phone:r,password:n,options:i}=e;t=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Q})}else throw new g("You must provide either an email or phone number and a password");let{data:r,error:n}=t;if(n)return{data:{user:null,session:null},error:n};if(!r||!r.session||!r.user)return{data:{user:null,session:null},error:new p};return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}}catch(e){if(u(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let t=await M(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/");try{let{data:t,error:i}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Z});if(await N(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!t||!t.session||!t.user)return{data:{user:null,session:null,redirectType:null},error:new p};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=n?n:null}),error:i}}catch(e){if(u(e))return{data:{user:null,session:null,redirectType:null},error:e};throw e}}async signInWithIdToken(e){try{let{options:t,provider:r,token:n,access_token:i,nonce:a}=e,{data:s,error:o}=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Z});if(o)return{data:{user:null,session:null},error:o};if(!s||!s.session||!s.user)return{data:{user:null,session:null},error:new p};return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:o}}catch(e){if(u(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,r,n,i,a;try{if("email"in e){let{email:n,options:i}=e,a=null,s=null;"pkce"===this.flowType&&([a,s]=await z(this.storage,this.storageKey));let{error:o}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(r=null==i?void 0:i.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:s},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){let{phone:t,options:r}=e,{data:s,error:o}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(i=null==r?void 0:r.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(a=null==r?void 0:r.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o}}throw new g("You must provide either an email or phone number.")}catch(e){if(u(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,r;try{let n,i;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(r=e.options)||void 0===r?void 0:r.captchaToken);let{data:a,error:s}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Z});if(s)throw s;if(!a)throw Error("An error occurred on token verification.");let o=a.session,l=a.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(u(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,r,n;try{let i=null,a=null;return"pkce"===this.flowType&&([i,a]=await z(this.storage,this.storageKey)),await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:et})}catch(e){if(u(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new f;let{error:n}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(u(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:r,type:n,options:i}=e,{error:a}=await X(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){let{phone:r,type:n,options:i}=e,{data:a,error:s}=await X(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:s}}throw new g("You must provide either an email or phone number and a type")}catch(e){if(u(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let e=null,t=await M(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let r=!!e.expires_at&&1e3*e.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}let{session:n,error:i}=await this._callRefreshToken(e.refresh_token);if(i)return{data:{session:null},error:i};return{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{if(e)return await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ee});return await this._useSession(async e=>{var t,r,n;let{data:i,error:a}=e;if(a)throw a;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:ee}):{data:{user:null},error:new f}})}catch(e){if(u(e))return u(e)&&"AuthSessionMissingError"===e.name&&(await this._removeSession(),await N(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{let{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new f;let a=n.session,s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await z(this.storage,this.storageKey));let{data:l,error:u}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:a.access_token,xform:ee});if(u)throw u;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(e){if(u(e))return{data:{user:null},error:e};throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new f;let t=Date.now()/1e3,r=t,n=!0,i=null,{payload:a}=U(e.access_token);if(a.exp&&(n=(r=a.exp)<=t),n){let{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:n,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(e){if(u(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){let{data:n,error:i}=t;if(i)throw i;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new f;let{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(u(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e,t){try{if(!E())throw new y("No browser detected.");if(e.error||e.error_description||e.error_code)throw new y(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new v("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new y("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new v("No code detected.");let{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;let n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:a,expires_in:s,expires_at:o,token_type:l}=e;if(!i||!s||!a||!l)throw new y("No session defined in URL");let u=Math.round(Date.now()/1e3),c=parseInt(s),h=u+c;o&&(h=parseInt(o));let d=h-u;1e3*d<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${c}s`);let f=h-c;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,u);let{data:p,error:g}=await this._getUser(i);if(g)throw g;let _={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:c,expires_at:h,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(e){if(u(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await M(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;let{data:n,error:i}=t;if(i)return{error:i};let a=null===(r=n.session)||void 0===r?void 0:r.access_token;if(a){let{error:t}=await this.admin.signOut(a,e);if(t&&!(u(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status||403===t.status)))return{error:t}}return"others"!==e&&(await this._removeSession(),await N(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{let{data:{session:n},error:i}=t;if(i)throw i;await (null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(t){await (null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=await z(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(u(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{let{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(e){if(u(e))return{data:null,error:e};throw e}}async linkIdentity(e){var t;try{let{data:r,error:n}=await this._useSession(async t=>{var r,n,i,a,s;let{data:o,error:l}=t;if(l)throw l;let u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",u,{headers:this.headers,jwt:null!==(s=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==s?s:void 0})});if(n)throw n;return!E()||(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)||window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(t){if(u(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;let{data:i,error:a}=t;if(a)throw a;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(e){if(u(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var r,n;let i=Date.now();return await (r=async r=>(r>0&&await D(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Z})),n=(e,t)=>t&&m(t)&&Date.now()+200*Math.pow(2,e)-i<3e4,new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{let t=await r(i);if(!n(i,null,t)){e(t);return}}catch(e){if(!n(i,e)){t(e);return}}})()}))}catch(e){if(this._debug(t,"error",e),u(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),E()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;let t="#_recoverAndRefresh()";this._debug(t,"begin");try{let r=await M(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),null!==r&&await this._removeSession();return}let n=(null!==(e=r.expires_at)&&void 0!==e?e:1/0)*1e3-Date.now()<9e4;if(this._debug(t,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&r.refresh_token){let{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),m(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(e){this._debug(t,"error",e),console.error(e);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new f;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new q;let{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new f;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(e){if(this._debug(n,"error",e),u(e)){let r={session:null,error:e};return m(e)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(r),r}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){let n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});let n=[],i=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(e){n.push(e)}});if(await Promise.all(i),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await L(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await N(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&E()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let n=Math.floor((1e3*r.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof eu)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!E()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if("visible"!==document.visibilityState){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){let n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){let[e,t]=await z(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){let e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;return i?{data:null,error:i}:await X(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(e){if(u(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;let{data:i,error:a}=t;if(a)return{data:null,error:a};let s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await X(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null==o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(e){if(u(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;if(i)return{data:null,error:i};let{data:a,error:s}=await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:s})})}catch(e){if(u(e))return{data:null,error:e};throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;return i?{data:null,error:i}:await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(e){if(u(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(e){let{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let r=(null==e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),i=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;let{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=U(n.access_token),s=null;a.aal&&(s=a.aal);let o=s;return(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(o="aal2"),{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r||(r=this.jwks.keys.find(t=>t.kid===e))&&this.jwks_cached_at+6e5>Date.now())return r;let{data:n,error:i}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||0===n.keys.length)throw new b("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),!(r=n.keys.find(t=>t.kid===e)))throw new b("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){let{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}let{header:n,payload:i,signature:a,raw:{header:s,payload:o}}=U(r);if(!function(e){if(!e)throw Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(i.exp),!n.kid||"HS256"===n.alg||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:i,header:n,signature:a},error:null}}let l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(n.alg),u=await this.fetchJwk(n.kid,t),c=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,c,a,function(e){let t=[];return O(e,e=>t.push(e)),new Uint8Array(t)}(`${s}.${o}`)))throw new b("Invalid JWT signature");return{data:{claims:i,header:n,signature:a},error:null}}catch(e){if(u(e))return{data:null,error:e};throw e}}}ep.nextInstanceID=0;var eg=ep},52850:function(e,t,r){var n=r(74655)(r(17257),"DataView");e.exports=n},26123:function(e,t,r){var n=r(7336),i=r(24182),a=r(51982),s=r(47405),o=r(24983);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,e.exports=l},24235:function(e,t,r){var n=r(49009),i=r(70277),a=r(46622),s=r(51856),o=r(13844);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,e.exports=l},16272:function(e,t,r){var n=r(74655)(r(17257),"Map");e.exports=n},48391:function(e,t,r){var n=r(99523),i=r(47518),a=r(5230),s=r(92971),o=r(35570);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,e.exports=l},35830:function(e,t,r){var n=r(74655)(r(17257),"Promise");e.exports=n},11148:function(e,t,r){var n=r(74655)(r(17257),"Set");e.exports=n},67238:function(e,t,r){var n=r(48391),i=r(52927),a=r(44014);function s(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=a,e.exports=s},21652:function(e,t,r){var n=r(24235),i=r(4331),a=r(99966),s=r(1332),o=r(20358),l=r(14218);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=a,u.prototype.get=s,u.prototype.has=o,u.prototype.set=l,e.exports=u},8556:function(e,t,r){var n=r(17257).Symbol;e.exports=n},95373:function(e,t,r){var n=r(17257).Uint8Array;e.exports=n},75821:function(e,t,r){var n=r(74655)(r(17257),"WeakMap");e.exports=n},41149:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}},97821:function(e,t,r){var n=r(32670);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},59699:function(e){e.exports=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},5314:function(e,t,r){var n=r(38e3),i=r(73567),a=r(1744),s=r(84924),o=r(87885),l=r(35213),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=a(e),c=!r&&i(e),h=!r&&!c&&s(e),d=!r&&!c&&!h&&l(e),f=r||c||h||d,p=f?n(e.length,String):[],g=p.length;for(var y in e)(t||u.call(e,y))&&!(f&&("length"==y||h&&("offset"==y||"parent"==y)||d&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||o(y,g)))&&p.push(y);return p}},72652:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},82720:function(e){e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},51014:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},89405:function(e,t,r){var n=r(62564);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return -1}},97293:function(e){e.exports=function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return -1}},74463:function(e,t,r){var n=r(50220),i=r(22858);e.exports=function(e,t){t=n(t,e);for(var r=0,a=t.length;null!=e&&r<a;)e=e[i(t[r++])];return r&&r==a?e:void 0}},50918:function(e,t,r){var n=r(82720),i=r(1744);e.exports=function(e,t,r){var a=t(e);return i(e)?a:n(a,r(e))}},79173:function(e,t,r){var n=r(8556),i=r(35147),a=r(43936),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):a(e)}},37319:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},32670:function(e,t,r){var n=r(97293),i=r(80807),a=r(84710);e.exports=function(e,t,r){return t==t?a(e,t,r):n(e,i,r)}},58634:function(e,t,r){var n=r(79173),i=r(6734);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},91913:function(e,t,r){var n=r(25523),i=r(6734);e.exports=function e(t,r,a,s,o){return t===r||(null!=t&&null!=r&&(i(t)||i(r))?n(t,r,a,s,e,o):t!=t&&r!=r)}},25523:function(e,t,r){var n=r(21652),i=r(9105),a=r(53527),s=r(35927),o=r(15),l=r(1744),u=r(84924),c=r(35213),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,g,y,v){var _=l(e),m=l(t),w=_?d:o(e),b=m?d:o(t);w=w==h?f:w,b=b==h?f:b;var S=w==f,P=b==f,k=w==b;if(k&&u(e)){if(!u(t))return!1;_=!0,S=!1}if(k&&!S)return v||(v=new n),_||c(e)?i(e,t,r,g,y,v):a(e,t,w,r,g,y,v);if(!(1&r)){var x=S&&p.call(e,"__wrapped__"),j=P&&p.call(t,"__wrapped__");if(x||j){var T=x?e.value():e,O=j?t.value():t;return v||(v=new n),y(T,O,r,g,v)}}return!!k&&(v||(v=new n),s(e,t,r,g,y,v))}},65794:function(e,t,r){var n=r(21652),i=r(91913);e.exports=function(e,t,r,a){var s=r.length,o=s,l=!a;if(null==e)return!o;for(e=Object(e);s--;){var u=r[s];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<o;){var c=(u=r[s])[0],h=e[c],d=u[1];if(l&&u[2]){if(void 0===h&&!(c in e))return!1}else{var f=new n;if(a)var p=a(h,d,c,e,t,f);if(!(void 0===p?i(d,h,3,a,f):p))return!1}}return!0}},80807:function(e){e.exports=function(e){return e!=e}},52172:function(e,t,r){var n=r(64504),i=r(18471),a=r(65348),s=r(98266),o=/^\[object .+?Constructor\]$/,l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,h=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(n(e)?h:o).test(s(e))}},64777:function(e,t,r){var n=r(79173),i=r(46949),a=r(6734),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!s[n(e)]}},953:function(e,t,r){var n=r(72291),i=r(95952),a=r(33184),s=r(1744),o=r(48951);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?i(e[0],e[1]):n(e):o(e)}},14630:function(e,t,r){var n=r(11298),i=r(59605),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},72291:function(e,t,r){var n=r(65794),i=r(66885),a=r(85193);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},95952:function(e,t,r){var n=r(91913),i=r(59796),a=r(31273),s=r(21282),o=r(29340),l=r(85193),u=r(22858);e.exports=function(e,t){return s(e)&&o(t)?l(u(e),t):function(r){var s=i(r,e);return void 0===s&&s===t?a(r,e):n(t,s,3)}}},11591:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},32560:function(e,t,r){var n=r(74463);e.exports=function(e){return function(t){return n(t,e)}}},38e3:function(e){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},94344:function(e,t,r){var n=r(8556),i=r(72652),a=r(1744),s=r(41267),o=1/0,l=n?n.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(s(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-o?"-0":r}},5633:function(e,t,r){var n=r(17930),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},55062:function(e){e.exports=function(e){return function(t){return e(t)}}},5358:function(e,t,r){var n=r(67238),i=r(97821),a=r(59699),s=r(38249),o=r(74374),l=r(610);e.exports=function(e,t,r){var u=-1,c=i,h=e.length,d=!0,f=[],p=f;if(r)d=!1,c=a;else if(h>=200){var g=t?null:o(e);if(g)return l(g);d=!1,c=s,p=new n}else p=t?[]:f;e:for(;++u<h;){var y=e[u],v=t?t(y):y;if(y=r||0!==y?y:0,d&&v==v){for(var _=p.length;_--;)if(p[_]===v)continue e;t&&p.push(v),f.push(y)}else c(p,v,r)||(p!==f&&p.push(v),f.push(y))}return f}},38249:function(e){e.exports=function(e,t){return e.has(t)}},50220:function(e,t,r){var n=r(1744),i=r(21282),a=r(43493),s=r(30648);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:a(s(e))}},63820:function(e,t,r){var n=r(17257)["__core-js_shared__"];e.exports=n},74374:function(e,t,r){var n=r(11148),i=r(14390),a=r(610),s=n&&1/a(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=s},9105:function(e,t,r){var n=r(67238),i=r(51014),a=r(38249);e.exports=function(e,t,r,s,o,l){var u=1&r,c=e.length,h=t.length;if(c!=h&&!(u&&h>c))return!1;var d=l.get(e),f=l.get(t);if(d&&f)return d==t&&f==e;var p=-1,g=!0,y=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var v=e[p],_=t[p];if(s)var m=u?s(_,v,p,t,e,l):s(v,_,p,e,t,l);if(void 0!==m){if(m)continue;g=!1;break}if(y){if(!i(t,function(e,t){if(!a(y,t)&&(v===e||o(v,e,r,s,l)))return y.push(t)})){g=!1;break}}else if(!(v===_||o(v,_,r,s,l))){g=!1;break}}return l.delete(e),l.delete(t),g}},53527:function(e,t,r){var n=r(8556),i=r(95373),a=r(62564),s=r(9105),o=r(52135),l=r(610),u=n?n.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,r,n,u,h,d){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!h(new i(e),new i(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=o;case"[object Set]":var p=1&n;if(f||(f=l),e.size!=t.size&&!p)break;var g=d.get(e);if(g)return g==t;n|=2,d.set(e,t);var y=s(f(e),f(t),n,u,h,d);return d.delete(e),y;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},35927:function(e,t,r){var n=r(70642),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,s,o){var l=1&r,u=n(e),c=u.length;if(c!=n(t).length&&!l)return!1;for(var h=c;h--;){var d=u[h];if(!(l?d in t:i.call(t,d)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var g=!0;o.set(e,t),o.set(t,e);for(var y=l;++h<c;){var v=e[d=u[h]],_=t[d];if(a)var m=l?a(_,v,d,t,e,o):a(v,_,d,e,t,o);if(!(void 0===m?v===_||s(v,_,r,a,o):m)){g=!1;break}y||(y="constructor"==d)}if(g&&!y){var w=e.constructor,b=t.constructor;w!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b)&&(g=!1)}return o.delete(e),o.delete(t),g}},49784:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},70642:function(e,t,r){var n=r(50918),i=r(78870),a=r(58657);e.exports=function(e){return n(e,a,i)}},55900:function(e,t,r){var n=r(99643);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},66885:function(e,t,r){var n=r(29340),i=r(58657);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var a=t[r],s=e[a];t[r]=[a,s,n(s)]}return t}},74655:function(e,t,r){var n=r(52172),i=r(38988);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},35147:function(e,t,r){var n=r(8556),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,o),r=e[o];try{e[o]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[o]=r:delete e[o]),i}},78870:function(e,t,r){var n=r(41149),i=r(22559),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(e){return null==e?[]:n(s(e=Object(e)),function(t){return a.call(e,t)})}:i;e.exports=o},15:function(e,t,r){var n=r(52850),i=r(16272),a=r(35830),s=r(11148),o=r(75821),l=r(79173),u=r(98266),c="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",g=u(n),y=u(i),v=u(a),_=u(s),m=u(o),w=l;(n&&w(new n(new ArrayBuffer(1)))!=p||i&&w(new i)!=c||a&&w(a.resolve())!=h||s&&w(new s)!=d||o&&w(new o)!=f)&&(w=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case g:return p;case y:return c;case v:return h;case _:return d;case m:return f}return t}),e.exports=w},38988:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},26402:function(e,t,r){var n=r(50220),i=r(73567),a=r(1744),s=r(87885),o=r(46949),l=r(22858);e.exports=function(e,t,r){t=n(t,e);for(var u=-1,c=t.length,h=!1;++u<c;){var d=l(t[u]);if(!(h=null!=e&&r(e,d)))break;e=e[d]}return h||++u!=c?h:!!(c=null==e?0:e.length)&&o(c)&&s(d,c)&&(a(e)||i(e))}},7336:function(e,t,r){var n=r(68632);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},24182:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},51982:function(e,t,r){var n=r(68632),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},47405:function(e,t,r){var n=r(68632),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},24983:function(e,t,r){var n=r(68632);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},87885:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},21282:function(e,t,r){var n=r(1744),i=r(41267),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||i(e))||s.test(e)||!a.test(e)||null!=t&&e in Object(t)}},99643:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},18471:function(e,t,r){var n,i=r(63820),a=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!a&&a in e}},11298:function(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},29340:function(e,t,r){var n=r(65348);e.exports=function(e){return e==e&&!n(e)}},49009:function(e){e.exports=function(){this.__data__=[],this.size=0}},70277:function(e,t,r){var n=r(89405),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},46622:function(e,t,r){var n=r(89405);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},51856:function(e,t,r){var n=r(89405);e.exports=function(e){return n(this.__data__,e)>-1}},13844:function(e,t,r){var n=r(89405);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},99523:function(e,t,r){var n=r(26123),i=r(24235),a=r(16272);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},47518:function(e,t,r){var n=r(55900);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},5230:function(e,t,r){var n=r(55900);e.exports=function(e){return n(this,e).get(e)}},92971:function(e,t,r){var n=r(55900);e.exports=function(e){return n(this,e).has(e)}},35570:function(e,t,r){var n=r(55900);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},52135:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},85193:function(e){e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},26412:function(e,t,r){var n=r(93374);e.exports=function(e){var t=n(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},68632:function(e,t,r){var n=r(74655)(Object,"create");e.exports=n},59605:function(e,t,r){var n=r(35542)(Object.keys,Object);e.exports=n},11622:function(e,t,r){e=r.nmd(e);var n=r(49784),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i&&n.process,o=function(){try{var e=a&&a.require&&a.require("util").types;if(e)return e;return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=o},43936:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},35542:function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},17257:function(e,t,r){var n=r(49784),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();e.exports=a},52927:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},44014:function(e){e.exports=function(e){return this.__data__.has(e)}},610:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},4331:function(e,t,r){var n=r(24235);e.exports=function(){this.__data__=new n,this.size=0}},99966:function(e){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},1332:function(e){e.exports=function(e){return this.__data__.get(e)}},20358:function(e){e.exports=function(e){return this.__data__.has(e)}},14218:function(e,t,r){var n=r(24235),i=r(16272),a=r(48391);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(s)}return r.set(e,t),this.size=r.size,this}},84710:function(e){e.exports=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}},43493:function(e,t,r){var n=r(26412),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,r,n,i){t.push(n?i.replace(a,"$1"):r||e)}),t});e.exports=s},22858:function(e,t,r){var n=r(41267),i=1/0;e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},98266:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},17930:function(e){var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},62143:function(e){e.exports=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i}},55811:function(e,t,r){var n=r(65348),i=r(65270),a=r(82132),s=Math.max,o=Math.min;e.exports=function(e,t,r){var l,u,c,h,d,f,p=0,g=!1,y=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function _(t){var r=l,n=u;return l=u=void 0,p=t,h=e.apply(n,r)}function m(e){var r=e-f,n=e-p;return void 0===f||r>=t||r<0||y&&n>=c}function w(){var e,r,n,a=i();if(m(a))return b(a);d=setTimeout(w,(e=a-f,r=a-p,n=t-e,y?o(n,c-r):n))}function b(e){return(d=void 0,v&&l)?_(e):(l=u=void 0,h)}function S(){var e,r=i(),n=m(r);if(l=arguments,u=this,f=r,n){if(void 0===d)return p=e=f,d=setTimeout(w,t),g?_(e):h;if(y)return clearTimeout(d),d=setTimeout(w,t),_(f)}return void 0===d&&(d=setTimeout(w,t)),h}return t=a(t)||0,n(r)&&(g=!!r.leading,c=(y="maxWait"in r)?s(a(r.maxWait)||0,t):c,v="trailing"in r?!!r.trailing:v),S.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=f=u=d=void 0},S.flush=function(){return void 0===d?h:b(i())},S}},62564:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},59796:function(e,t,r){var n=r(74463);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},31273:function(e,t,r){var n=r(37319),i=r(26402);e.exports=function(e,t){return null!=e&&i(e,t,n)}},33184:function(e){e.exports=function(e){return e}},73567:function(e,t,r){var n=r(58634),i=r(6734),a=Object.prototype,s=a.hasOwnProperty,o=a.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return i(e)&&s.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},1744:function(e){var t=Array.isArray;e.exports=t},13325:function(e,t,r){var n=r(64504),i=r(46949);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},84924:function(e,t,r){e=r.nmd(e);var n=r(17257),i=r(96203),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,o=s&&s.exports===a?n.Buffer:void 0,l=o?o.isBuffer:void 0;e.exports=l||i},64504:function(e,t,r){var n=r(79173),i=r(65348);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},46949:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},65348:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6734:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},41267:function(e,t,r){var n=r(79173),i=r(6734);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},35213:function(e,t,r){var n=r(64777),i=r(55062),a=r(11622),s=a&&a.isTypedArray,o=s?i(s):n;e.exports=o},58657:function(e,t,r){var n=r(5314),i=r(14630),a=r(13325);e.exports=function(e){return a(e)?n(e):i(e)}},93374:function(e,t,r){var n=r(48391);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(i.Cache||n),r}i.Cache=n,e.exports=i},14390:function(e){e.exports=function(){}},65270:function(e,t,r){var n=r(17257);e.exports=function(){return n.Date.now()}},48951:function(e,t,r){var n=r(11591),i=r(32560),a=r(21282),s=r(22858);e.exports=function(e){return a(e)?n(s(e)):i(e)}},22559:function(e){e.exports=function(){return[]}},96203:function(e){e.exports=function(){return!1}},82132:function(e,t,r){var n=r(5633),i=r(65348),a=r(41267),s=0/0,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return s;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=l.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):o.test(e)?s:+e}},30648:function(e,t,r){var n=r(94344);e.exports=function(e){return null==e?"":n(e)}},41924:function(e,t,r){var n=r(953),i=r(5358);e.exports=function(e,t){return e&&e.length?i(e,n(t,2)):[]}},56520:function(e,t,r){e.exports=r(78204)},94153:function(e,t,r){"use strict";var n=r(70395);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},73050:function(e,t,r){"use strict";var n=r(86682);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},78204:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useRouter",{enumerable:!0,get:function(){return a}});let n=r(14627),i=r(35992);function a(){return(0,n.useContext)(i.RouterContext)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},76690:function(e,t){"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5188:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}});let r=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},14068:function(e,t){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DOMAttributeNames:function(){return n},default:function(){return s},isEqualNode:function(){return a}});let n={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"};function i(e){let{type:t,props:r}=e,i=document.createElement(t);for(let e in r){if(!r.hasOwnProperty(e)||"children"===e||"dangerouslySetInnerHTML"===e||void 0===r[e])continue;let a=n[e]||e.toLowerCase();"script"===t&&("async"===a||"defer"===a||"noModule"===a)?i[a]=!!r[e]:i.setAttribute(a,r[e])}let{children:a,dangerouslySetInnerHTML:s}=r;return s?i.innerHTML=s.__html||"":a&&(i.textContent="string"==typeof a?a:Array.isArray(a)?a.join(""):""),i}function a(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){let r=t.getAttribute("nonce");if(r&&!e.getAttribute("nonce")){let n=t.cloneNode(!0);return n.setAttribute("nonce",""),n.nonce=r,r===e.nonce&&e.isEqualNode(n)}}return e.isEqualNode(t)}function s(){return{mountedInstances:new Set,updateHead:e=>{let t={};e.forEach(e=>{if("link"===e.type&&e.props["data-optimized-fonts"]){if(document.querySelector('style[data-href="'+e.props["data-href"]+'"]'))return;e.props.href=e.props["data-href"],e.props["data-href"]=void 0}let r=t[e.type]||[];r.push(e),t[e.type]=r});let n=t.title?t.title[0]:null,i="";if(n){let{children:e}=n.props;i="string"==typeof e?e:Array.isArray(e)?e.join(""):""}i!==document.title&&(document.title=i),["meta","base","link","style","script"].forEach(e=>{r(e,t[e]||[])})}}}r=(e,t)=>{let r=document.getElementsByTagName("head")[0],n=r.querySelector("meta[name=next-head-count]"),s=Number(n.content),o=[];for(let t=0,r=n.previousElementSibling;t<s;t++,r=(null==r?void 0:r.previousElementSibling)||null){var l;(null==r?void 0:null==(l=r.tagName)?void 0:l.toLowerCase())===e&&o.push(r)}let u=t.map(i).filter(e=>{for(let t=0,r=o.length;t<r;t++)if(a(o[t],e))return o.splice(t,1),!1;return!0});o.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),u.forEach(e=>r.insertBefore(e,n)),n.content=(s-o.length+u.length).toString()},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},12645:function(e,t,r){"use strict";function n(e,t){return e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeLocale",{enumerable:!0,get:function(){return n}}),r(85683),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3340:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createRouteLoader:function(){return g},getClientBuildManifest:function(){return f},isAssetError:function(){return u},markAssetError:function(){return l}}),r(33976),r(27816);let n=r(95040),i=r(76366),a=r(11557);function s(e,t,r){let n,i=t.get(e);if(i)return"future"in i?i.future:Promise.resolve(i);let a=new Promise(e=>{n=e});return t.set(e,i={resolve:n,future:a}),r?r().then(e=>(n(e),e)).catch(r=>{throw t.delete(e),r}):a}let o=Symbol("ASSET_LOAD_ERROR");function l(e){return Object.defineProperty(e,o,{})}function u(e){return e&&o in e}let c=function(e){try{return e=document.createElement("link"),!!window.MSInputMethodContext&&!!document.documentMode||e.relList.supports("prefetch")}catch(e){return!1}}(),h=()=>(0,a.getDeploymentIdQueryOrEmptyString)();function d(e,t,r){return new Promise((n,a)=>{let s=!1;e.then(e=>{s=!0,n(e)}).catch(a),(0,i.requestIdleCallback)(()=>setTimeout(()=>{s||a(r)},t))})}function f(){return self.__BUILD_MANIFEST?Promise.resolve(self.__BUILD_MANIFEST):d(new Promise(e=>{let t=self.__BUILD_MANIFEST_CB;self.__BUILD_MANIFEST_CB=()=>{e(self.__BUILD_MANIFEST),t&&t()}}),3800,l(Error("Failed to load client build manifest")))}function p(e,t){return f().then(r=>{if(!(t in r))throw l(Error("Failed to lookup route: "+t));let i=r[t].map(t=>e+"/_next/"+encodeURI(t));return{scripts:i.filter(e=>e.endsWith(".js")).map(e=>(0,n.__unsafeCreateTrustedScriptURL)(e)+h()),css:i.filter(e=>e.endsWith(".css")).map(e=>e+h())}})}function g(e){let t=new Map,r=new Map,n=new Map,a=new Map;function o(e){{var t;let n=r.get(e.toString());return n||(document.querySelector('script[src^="'+e+'"]')?Promise.resolve():(r.set(e.toString(),n=new Promise((r,n)=>{(t=document.createElement("script")).onload=r,t.onerror=()=>n(l(Error("Failed to load script: "+e))),t.crossOrigin=void 0,t.src=e,document.body.appendChild(t)})),n))}}function u(e){let t=n.get(e);return t||n.set(e,t=fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw Error("Failed to load stylesheet: "+e);return t.text().then(t=>({href:e,content:t}))}).catch(e=>{throw l(e)})),t}return{whenEntrypoint:e=>s(e,t),onEntrypoint(e,r){(r?Promise.resolve().then(()=>r()).then(e=>({component:e&&e.default||e,exports:e}),e=>({error:e})):Promise.resolve(void 0)).then(r=>{let n=t.get(e);n&&"resolve"in n?r&&(t.set(e,r),n.resolve(r)):(r?t.set(e,r):t.delete(e),a.delete(e))})},loadRoute(r,n){return s(r,a,()=>{let i;return d(p(e,r).then(e=>{let{scripts:n,css:i}=e;return Promise.all([t.has(r)?[]:Promise.all(n.map(o)),Promise.all(i.map(u))])}).then(e=>this.whenEntrypoint(r).then(t=>({entrypoint:t,styles:e[1]}))),3800,l(Error("Route did not complete loading: "+r))).then(e=>{let{entrypoint:t,styles:r}=e,n=Object.assign({styles:r},t);return"error"in t?t:n}).catch(e=>{if(n)throw e;return{error:e}}).finally(()=>null==i?void 0:i())})},prefetch(t){let r;return(r=navigator.connection)&&(r.saveData||/2g/.test(r.effectiveType))?Promise.resolve():p(e,t).then(e=>Promise.all(c?e.scripts.map(e=>{var t,r,n;return t=e.toString(),r="script",new Promise((e,i)=>{if(document.querySelector('\n      link[rel="prefetch"][href^="'+t+'"],\n      link[rel="preload"][href^="'+t+'"],\n      script[src^="'+t+'"]'))return e();n=document.createElement("link"),r&&(n.as=r),n.rel="prefetch",n.crossOrigin=void 0,n.onload=e,n.onerror=()=>i(l(Error("Failed to prefetch: "+t))),n.href=t,document.head.appendChild(n)})}):[])).then(()=>{(0,i.requestIdleCallback)(()=>this.loadRoute(t,!0).catch(()=>{}))}).catch(()=>{})}}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},86682:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{Router:function(){return a.default},createRouter:function(){return g},default:function(){return f},makePublicRouterInstance:function(){return y},useRouter:function(){return p},withRouter:function(){return l.default}});let n=r(33976),i=n._(r(14627)),a=n._(r(32766)),s=r(35992),o=n._(r(52584)),l=n._(r(55359)),u={router:null,readyCallbacks:[],ready(e){if(this.router)return e();"undefined"!=typeof window&&this.readyCallbacks.push(e)}},c=["pathname","route","query","asPath","components","isFallback","basePath","locale","locales","defaultLocale","isReady","isPreview","isLocaleDomain","domainLocales"],h=["push","replace","reload","back","prefetch","beforePopState"];function d(){if(!u.router)throw Error('No router instance found.\nYou should only use "next/router" on the client side of your app.\n');return u.router}Object.defineProperty(u,"events",{get:()=>a.default.events}),c.forEach(e=>{Object.defineProperty(u,e,{get:()=>d()[e]})}),h.forEach(e=>{u[e]=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return d()[e](...r)}}),["routeChangeStart","beforeHistoryChange","routeChangeComplete","routeChangeError","hashChangeStart","hashChangeComplete"].forEach(e=>{u.ready(()=>{a.default.events.on(e,function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];let i="on"+e.charAt(0).toUpperCase()+e.substring(1);if(u[i])try{u[i](...r)}catch(e){console.error("Error when running the Router event: "+i),console.error((0,o.default)(e)?e.message+"\n"+e.stack:e+"")}})})});let f=u;function p(){let e=i.default.useContext(s.RouterContext);if(!e)throw Error("NextRouter was not mounted. https://nextjs.org/docs/messages/next-router-not-mounted");return e}function g(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.router=new a.default(...t),u.readyCallbacks.forEach(e=>e()),u.readyCallbacks=[],u.router}function y(e){let t={};for(let r of c){if("object"==typeof e[r]){t[r]=Object.assign(Array.isArray(e[r])?[]:{},e[r]);continue}t[r]=e[r]}return t.events=a.default.events,h.forEach(r=>{t[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e[r](...n)}}),t}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},44001:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return m},handleClientScriptLoad:function(){return y},initScriptLoader:function(){return v}});let n=r(33976),i=r(70353),a=r(84570),s=n._(r(65138)),o=i._(r(14627)),l=r(98936),u=r(14068),c=r(76366),h=new Map,d=new Set,f=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"],p=e=>{if(s.default.preinit){e.forEach(e=>{s.default.preinit(e,{as:"style"})});return}if("undefined"!=typeof window){let t=document.head;e.forEach(e=>{let r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t.appendChild(r)})}},g=e=>{let{src:t,id:r,onLoad:n=()=>{},onReady:i=null,dangerouslySetInnerHTML:a,children:s="",strategy:o="afterInteractive",onError:l,stylesheets:c}=e,g=r||t;if(g&&d.has(g))return;if(h.has(t)){d.add(g),h.get(t).then(n,l);return}let y=()=>{i&&i(),d.add(g)},v=document.createElement("script"),_=new Promise((e,t)=>{v.addEventListener("load",function(t){e(),n&&n.call(this,t),y()}),v.addEventListener("error",function(e){t(e)})}).catch(function(e){l&&l(e)});for(let[r,n]of(a?(v.innerHTML=a.__html||"",y()):s?(v.textContent="string"==typeof s?s:Array.isArray(s)?s.join(""):"",y()):t&&(v.src=t,h.set(t,_)),Object.entries(e))){if(void 0===n||f.includes(r))continue;let e=u.DOMAttributeNames[r]||r.toLowerCase();v.setAttribute(e,n)}"worker"===o&&v.setAttribute("type","text/partytown"),v.setAttribute("data-nscript",o),c&&p(c),document.body.appendChild(v)};function y(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>g(e))}):g(e)}function v(e){e.forEach(y),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");d.add(t)})}function _(e){let{id:t,src:r="",onLoad:n=()=>{},onReady:i=null,strategy:u="afterInteractive",onError:h,stylesheets:f,...p}=e,{updateScripts:y,scripts:v,getIsSsr:_,appDir:m,nonce:w}=(0,o.useContext)(l.HeadManagerContext),b=(0,o.useRef)(!1);(0,o.useEffect)(()=>{let e=t||r;b.current||(i&&e&&d.has(e)&&i(),b.current=!0)},[i,t,r]);let S=(0,o.useRef)(!1);if((0,o.useEffect)(()=>{!S.current&&("afterInteractive"===u?g(e):"lazyOnload"===u&&("complete"===document.readyState?(0,c.requestIdleCallback)(()=>g(e)):window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>g(e))})),S.current=!0)},[e,u]),("beforeInteractive"===u||"worker"===u)&&(y?(v[u]=(v[u]||[]).concat([{id:t,src:r,onLoad:n,onReady:i,onError:h,...p}]),y(v)):_&&_()?d.add(t||r):_&&!_()&&g(e)),m){if(f&&f.forEach(e=>{s.default.preinit(e,{as:"style"})}),"beforeInteractive"===u)return r?(s.default.preload(r,p.integrity?{as:"script",integrity:p.integrity,nonce:w,crossOrigin:p.crossOrigin}:{as:"script",nonce:w,crossOrigin:p.crossOrigin}),(0,a.jsx)("script",{nonce:w,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([r,{...p,id:t}])+")"}})):(p.dangerouslySetInnerHTML&&(p.children=p.dangerouslySetInnerHTML.__html,delete p.dangerouslySetInnerHTML),(0,a.jsx)("script",{nonce:w,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...p,id:t}])+")"}}));"afterInteractive"===u&&r&&s.default.preload(r,p.integrity?{as:"script",integrity:p.integrity,nonce:w,crossOrigin:p.crossOrigin}:{as:"script",nonce:w,crossOrigin:p.crossOrigin})}return null}Object.defineProperty(_,"__nextScript",{value:!0});let m=_;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},95040:function(e,t){"use strict";let r;function n(e){var t;return(null==(t=function(){if(void 0===r&&"undefined"!=typeof window){var e;r=(null==(e=window.trustedTypes)?void 0:e.createPolicy("nextjs",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e}))||null}return r}())?void 0:t.createScriptURL(e))||e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"__unsafeCreateTrustedScriptURL",{enumerable:!0,get:function(){return n}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},55359:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}}),r(33976);let n=r(84570);r(14627);let i=r(86682);function a(e){function t(t){return(0,n.jsx)(e,{router:(0,i.useRouter)(),...t})}return t.getInitialProps=e.getInitialProps,t.origGetInitialProps=e.origGetInitialProps,t}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},99694:function(e,t){"use strict";function r(e){return"/api"===e||!!(null==e?void 0:e.startsWith("/api/"))}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isAPIRoute",{enumerable:!0,get:function(){return r}})},52584:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getProperError:function(){return a}});let n=r(34223);function i(e){return"object"==typeof e&&null!==e&&"name"in e&&"message"in e}function a(e){return i(e)?e:Error((0,n.isPlainObject)(e)?JSON.stringify(e):e+"")}},76727:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BloomFilter",{enumerable:!0,get:function(){return r}});class r{static from(e,t){void 0===t&&(t=1e-4);let n=new r(e.length,t);for(let t of e)n.add(t);return n}export(){return{numItems:this.numItems,errorRate:this.errorRate,numBits:this.numBits,numHashes:this.numHashes,bitArray:this.bitArray}}import(e){this.numItems=e.numItems,this.errorRate=e.errorRate,this.numBits=e.numBits,this.numHashes=e.numHashes,this.bitArray=e.bitArray}add(e){this.getHashValues(e).forEach(e=>{this.bitArray[e]=1})}contains(e){return this.getHashValues(e).every(e=>this.bitArray[e])}getHashValues(e){let t=[];for(let r=1;r<=this.numHashes;r++){let n=function(e){let t=0;for(let r=0;r<e.length;r++)t=Math.imul(t^e.charCodeAt(r),1540483477),t^=t>>>13,t=Math.imul(t,1540483477);return t>>>0}(""+e+r)%this.numBits;t.push(n)}return t}constructor(e,t=1e-4){this.numItems=e,this.errorRate=t,this.numBits=Math.ceil(-(e*Math.log(t))/(Math.log(2)*Math.log(2))),this.numHashes=Math.ceil(this.numBits/e*Math.log(2)),this.bitArray=Array(this.numBits).fill(0)}}},6130:function(e,t){"use strict";function r(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},34223:function(e,t){"use strict";function r(e){return Object.prototype.toString.call(e)}function n(e){if("[object Object]"!==r(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t.hasOwnProperty("isPrototypeOf")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getObjectClassLabel:function(){return r},isPlainObject:function(){return n}})},85963:function(e,t){"use strict";function r(){let e=Object.create(null);return{on(t,r){(e[t]||(e[t]=[])).push(r)},off(t,r){e[t]&&e[t].splice(e[t].indexOf(r)>>>0,1)},emit(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(e[t]||[]).slice().map(e=>{e(...n)})}}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}})},9790:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"denormalizePagePath",{enumerable:!0,get:function(){return a}});let n=r(29456),i=r(70736);function a(e){let t=(0,i.normalizePathSep)(e);return t.startsWith("/index/")&&!(0,n.isDynamicRoute)(t)?t.slice(6):"/index"!==t?t:"/"}},70736:function(e,t){"use strict";function r(e){return e.replace(/\\/g,"/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathSep",{enumerable:!0,get:function(){return r}})},32766:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createKey:function(){return z},default:function(){return G},matchesMiddleware:function(){return M}});let n=r(33976),i=r(70353),a=r(75247),s=r(3340),o=r(44001),l=i._(r(52584)),u=r(9790),c=r(6130),h=n._(r(85963)),d=r(80555),f=r(21299),p=r(22246);r(67384);let g=r(64086),y=r(3044),v=r(53617);r(5188);let _=r(85683),m=r(57166),w=r(12645),b=r(2138),S=r(82970),P=r(16977),k=r(75332),x=r(99694),j=r(70722),T=r(13754),O=r(14928),E=r(74582),A=r(14181),I=r(46944),R=r(96961),C=r(22453);function L(){return Object.assign(Error("Route Cancelled"),{cancelled:!0})}async function M(e){let t=await Promise.resolve(e.router.pageLoader.getMiddleware());if(!t)return!1;let{pathname:r}=(0,_.parsePath)(e.asPath),n=(0,P.hasBasePath)(r)?(0,b.removeBasePath)(r):r,i=(0,S.addBasePath)((0,m.addLocale)(n,e.locale));return t.some(e=>new RegExp(e.regexp).test(i))}function N(e){let t=(0,d.getLocationOrigin)();return e.startsWith(t)?e.substring(t.length):e}function q(e,t,r){let[n,i]=(0,k.resolveHref)(e,t,!0),a=(0,d.getLocationOrigin)(),s=n.startsWith(a),o=i&&i.startsWith(a);n=N(n),i=i?N(i):i;let l=s?n:(0,S.addBasePath)(n),u=r?N((0,k.resolveHref)(e,r)):i||n;return{url:l,as:o?u:(0,S.addBasePath)(u)}}function U(e,t){let r=(0,a.removeTrailingSlash)((0,u.denormalizePagePath)(e));return"/404"===r||"/_error"===r?e:(t.includes(r)||t.some(t=>{if((0,f.isDynamicRoute)(t)&&(0,y.getRouteRegex)(t).re.test(r))return e=t,!0}),(0,a.removeTrailingSlash)(e))}async function D(e){if(!await M(e)||!e.fetchData)return null;let t=await e.fetchData(),r=await function(e,t,r){let n={basePath:r.router.basePath,i18n:{locales:r.router.locales},trailingSlash:!1},i=t.headers.get("x-nextjs-rewrite"),o=i||t.headers.get("x-nextjs-matched-path"),l=t.headers.get("x-matched-path");if(!l||o||l.includes("__next_data_catchall")||l.includes("/_error")||l.includes("/404")||(o=l),o){if(o.startsWith("/")){let t=(0,p.parseRelativeUrl)(o),l=(0,j.getNextPathnameInfo)(t.pathname,{nextConfig:n,parseData:!0}),u=(0,a.removeTrailingSlash)(l.pathname);return Promise.all([r.router.pageLoader.getPageList(),(0,s.getClientBuildManifest)()]).then(a=>{let[s,{__rewrites:o}]=a,h=(0,m.addLocale)(l.pathname,l.locale);if((0,f.isDynamicRoute)(h)||!i&&s.includes((0,c.normalizeLocalePath)((0,b.removeBasePath)(h),r.router.locales).pathname)){let r=(0,j.getNextPathnameInfo)((0,p.parseRelativeUrl)(e).pathname,{nextConfig:n,parseData:!0});h=(0,S.addBasePath)(r.pathname),t.pathname=h}if(!s.includes(u)){let e=U(u,s);e!==u&&(u=e)}let d=s.includes(u)?u:U((0,c.normalizeLocalePath)((0,b.removeBasePath)(t.pathname),r.router.locales).pathname,s);if((0,f.isDynamicRoute)(d)){let e=(0,g.getRouteMatcher)((0,y.getRouteRegex)(d))(h);Object.assign(t.query,e||{})}return{type:"rewrite",parsedAs:t,resolvedHref:d}})}let t=(0,_.parsePath)(e);return Promise.resolve({type:"redirect-external",destination:""+(0,T.formatNextPathnameInfo)({...(0,j.getNextPathnameInfo)(t.pathname,{nextConfig:n,parseData:!0}),defaultLocale:r.router.defaultLocale,buildId:""})+t.query+t.hash})}let u=t.headers.get("x-nextjs-redirect");if(u){if(u.startsWith("/")){let e=(0,_.parsePath)(u),t=(0,T.formatNextPathnameInfo)({...(0,j.getNextPathnameInfo)(e.pathname,{nextConfig:n,parseData:!0}),defaultLocale:r.router.defaultLocale,buildId:""});return Promise.resolve({type:"redirect-internal",newAs:""+t+e.query+e.hash,newUrl:""+t+e.query+e.hash})}return Promise.resolve({type:"redirect-external",destination:u})}return Promise.resolve({type:"next"})}(t.dataHref,t.response,e);return{dataHref:t.dataHref,json:t.json,response:t.response,text:t.text,cacheKey:t.cacheKey,effect:r}}let $=Symbol("SSG_DATA_NOT_FOUND");function B(e){try{return JSON.parse(e)}catch(e){return null}}function H(e){let{dataHref:t,inflightCache:r,isPrefetch:n,hasMiddleware:i,isServerRender:a,parseJSON:o,persistCache:l,isBackground:u,unstable_skipClientCache:c}=e,{href:h}=new URL(t,window.location.href),d=e=>{var u;return(function e(t,r,n){return fetch(t,{credentials:"same-origin",method:n.method||"GET",headers:Object.assign({},n.headers,{"x-nextjs-data":"1"})}).then(i=>!i.ok&&r>1&&i.status>=500?e(t,r-1,n):i)})(t,a?3:1,{headers:Object.assign({},n?{purpose:"prefetch"}:{},n&&i?{"x-middleware-prefetch":"1"}:{}),method:null!=(u=null==e?void 0:e.method)?u:"GET"}).then(r=>r.ok&&(null==e?void 0:e.method)==="HEAD"?{dataHref:t,response:r,text:"",json:{},cacheKey:h}:r.text().then(e=>{if(!r.ok){if(i&&[301,302,307,308].includes(r.status))return{dataHref:t,response:r,text:e,json:{},cacheKey:h};if(404===r.status){var n;if(null==(n=B(e))?void 0:n.notFound)return{dataHref:t,json:{notFound:$},response:r,text:e,cacheKey:h}}let o=Error("Failed to load static props");throw a||(0,s.markAssetError)(o),o}return{dataHref:t,json:o?B(e):null,response:r,text:e,cacheKey:h}})).then(e=>(l&&"no-cache"!==e.response.headers.get("x-middleware-cache")||delete r[h],e)).catch(e=>{throw c||delete r[h],("Failed to fetch"===e.message||"NetworkError when attempting to fetch resource."===e.message||"Load failed"===e.message)&&(0,s.markAssetError)(e),e})};return c&&l?d({}).then(e=>("no-cache"!==e.response.headers.get("x-middleware-cache")&&(r[h]=Promise.resolve(e)),e)):void 0!==r[h]?r[h]:r[h]=d(u?{method:"HEAD"}:{})}function z(){return Math.random().toString(36).slice(2,10)}function F(e){let{url:t,router:r}=e;if(t===(0,S.addBasePath)((0,m.addLocale)(r.asPath,r.locale)))throw Error("Invariant: attempted to hard navigate to the same URL "+t+" "+location.href);window.location.href=t}let W=e=>{let{route:t,router:r}=e,n=!1,i=r.clc=()=>{n=!0};return()=>{if(n){let e=Error('Abort fetching component for route: "'+t+'"');throw e.cancelled=!0,e}i===r.clc&&(r.clc=null)}};class G{reload(){window.location.reload()}back(){window.history.back()}forward(){window.history.forward()}push(e,t,r){return void 0===r&&(r={}),{url:e,as:t}=q(this,e,t),this.change("pushState",e,t,r)}replace(e,t,r){return void 0===r&&(r={}),{url:e,as:t}=q(this,e,t),this.change("replaceState",e,t,r)}async _bfl(e,t,r,n){{let l=!1,u=!1;for(let c of[e,t])if(c){let t=(0,a.removeTrailingSlash)(new URL(c,"http://n").pathname),h=(0,S.addBasePath)((0,m.addLocale)(t,r||this.locale));if(t!==(0,a.removeTrailingSlash)(new URL(this.asPath,"http://n").pathname)){var i,s,o;for(let e of(l=l||!!(null==(i=this._bfl_s)?void 0:i.contains(t))||!!(null==(s=this._bfl_s)?void 0:s.contains(h)),[t,h])){let t=e.split("/");for(let e=0;!u&&e<t.length+1;e++){let r=t.slice(0,e).join("/");if(r&&(null==(o=this._bfl_d)?void 0:o.contains(r))){u=!0;break}}}if(l||u){if(n)return!0;return F({url:(0,S.addBasePath)((0,m.addLocale)(e,r||this.locale,this.defaultLocale)),router:this}),new Promise(()=>{})}}}}return!1}async change(e,t,r,n,i){var u,c,h,k,x,j,T,A,C;let N,D;if(!(0,E.isLocalURL)(t))return F({url:t,router:this}),!1;let B=1===n._h;B||n.shallow||await this._bfl(r,void 0,n.locale);let H=B||n._shouldResolveHref||(0,_.parsePath)(t).pathname===(0,_.parsePath)(r).pathname,z={...this.state},W=!0!==this.isReady;this.isReady=!0;let V=this.isSsr;if(B||(this.isSsr=!1),B&&this.clc)return!1;let K=z.locale;d.ST&&performance.mark("routeChange");let{shallow:J=!1,scroll:X=!0}=n,Y={shallow:J};this._inFlightRoute&&this.clc&&(V||G.events.emit("routeChangeError",L(),this._inFlightRoute,Y),this.clc(),this.clc=null),r=(0,S.addBasePath)((0,m.addLocale)((0,P.hasBasePath)(r)?(0,b.removeBasePath)(r):r,n.locale,this.defaultLocale));let Z=(0,w.removeLocale)((0,P.hasBasePath)(r)?(0,b.removeBasePath)(r):r,z.locale);this._inFlightRoute=r;let Q=K!==z.locale;if(!B&&this.onlyAHashChange(Z)&&!Q){z.asPath=Z,G.events.emit("hashChangeStart",r,Y),this.changeState(e,t,r,{...n,scroll:!1}),X&&this.scrollToHash(Z);try{await this.set(z,this.components[z.route],null)}catch(e){throw(0,l.default)(e)&&e.cancelled&&G.events.emit("routeChangeError",e,Z,Y),e}return G.events.emit("hashChangeComplete",r,Y),!0}let ee=(0,p.parseRelativeUrl)(t),{pathname:et,query:er}=ee;try{[N,{__rewrites:D}]=await Promise.all([this.pageLoader.getPageList(),(0,s.getClientBuildManifest)(),this.pageLoader.getMiddleware()])}catch(e){return F({url:r,router:this}),!1}this.urlIsNew(Z)||Q||(e="replaceState");let en=r;et=et?(0,a.removeTrailingSlash)((0,b.removeBasePath)(et)):et;let ei=(0,a.removeTrailingSlash)(et),ea=r.startsWith("/")&&(0,p.parseRelativeUrl)(r).pathname;if(null==(u=this.components[et])?void 0:u.__appRouter)return F({url:r,router:this}),new Promise(()=>{});let es=!!(ea&&ei!==ea&&(!(0,f.isDynamicRoute)(ei)||!(0,g.getRouteMatcher)((0,y.getRouteRegex)(ei))(ea))),eo=!n.shallow&&await M({asPath:r,locale:z.locale,router:this});if(B&&eo&&(H=!1),H&&"/_error"!==et&&(n._shouldResolveHref=!0,ee.pathname=U(et,N),ee.pathname===et||(et=ee.pathname,ee.pathname=(0,S.addBasePath)(et),eo||(t=(0,v.formatWithValidation)(ee)))),!(0,E.isLocalURL)(r))return F({url:r,router:this}),!1;en=(0,w.removeLocale)((0,b.removeBasePath)(en),z.locale),ei=(0,a.removeTrailingSlash)(et);let el=!1;if((0,f.isDynamicRoute)(ei)){let e=(0,p.parseRelativeUrl)(en),n=e.pathname,i=(0,y.getRouteRegex)(ei);el=(0,g.getRouteMatcher)(i)(n);let a=ei===n,s=a?(0,R.interpolateAs)(ei,n,er):{};if(el&&(!a||s.result))a?r=(0,v.formatWithValidation)(Object.assign({},e,{pathname:s.result,query:(0,I.omit)(er,s.params)})):Object.assign(er,el);else{let e=Object.keys(i.groups).filter(e=>!er[e]&&!i.groups[e].optional);if(e.length>0&&!eo)throw Error((a?"The provided `href` ("+t+") value is missing query values ("+e.join(", ")+") to be interpolated properly. ":"The provided `as` value ("+n+") is incompatible with the `href` value ("+ei+"). ")+"Read more: https://nextjs.org/docs/messages/"+(a?"href-interpolation-failed":"incompatible-href-as"))}}B||G.events.emit("routeChangeStart",r,Y);let eu="/404"===this.pathname||"/_error"===this.pathname;try{let a=await this.getRouteInfo({route:ei,pathname:et,query:er,as:r,resolvedAs:en,routeProps:Y,locale:z.locale,isPreview:z.isPreview,hasMiddleware:eo,unstable_skipClientCache:n.unstable_skipClientCache,isQueryUpdating:B&&!this.isFallback,isMiddlewareRewrite:es});if(B||n.shallow||await this._bfl(r,"resolvedAs"in a?a.resolvedAs:void 0,z.locale),"route"in a&&eo){ei=et=a.route||ei,Y.shallow||(er=Object.assign({},a.query||{},er));let e=(0,P.hasBasePath)(ee.pathname)?(0,b.removeBasePath)(ee.pathname):ee.pathname;if(el&&et!==e&&Object.keys(el).forEach(e=>{el&&er[e]===el[e]&&delete er[e]}),(0,f.isDynamicRoute)(et)){let e=!Y.shallow&&a.resolvedAs?a.resolvedAs:(0,S.addBasePath)((0,m.addLocale)(new URL(r,location.href).pathname,z.locale),!0);(0,P.hasBasePath)(e)&&(e=(0,b.removeBasePath)(e));let t=(0,y.getRouteRegex)(et),n=(0,g.getRouteMatcher)(t)(new URL(e,location.href).pathname);n&&Object.assign(er,n)}}if("type"in a){if("redirect-internal"===a.type)return this.change(e,a.newUrl,a.newAs,n);return F({url:a.destination,router:this}),new Promise(()=>{})}let s=a.Component;if(s&&s.unstable_scriptLoader&&[].concat(s.unstable_scriptLoader()).forEach(e=>{(0,o.handleClientScriptLoad)(e.props)}),(a.__N_SSG||a.__N_SSP)&&a.props){if(a.props.pageProps&&a.props.pageProps.__N_REDIRECT){n.locale=!1;let t=a.props.pageProps.__N_REDIRECT;if(t.startsWith("/")&&!1!==a.props.pageProps.__N_REDIRECT_BASE_PATH){let r=(0,p.parseRelativeUrl)(t);r.pathname=U(r.pathname,N);let{url:i,as:a}=q(this,t,t);return this.change(e,i,a,n)}return F({url:t,router:this}),new Promise(()=>{})}if(z.isPreview=!!a.props.__N_PREVIEW,a.props.notFound===$){let e;try{await this.fetchComponent("/404"),e="/404"}catch(t){e="/_error"}if(a=await this.getRouteInfo({route:e,pathname:e,query:er,as:r,resolvedAs:en,routeProps:{shallow:!1},locale:z.locale,isPreview:z.isPreview,isNotFound:!0}),"type"in a)throw Error("Unexpected middleware effect on /404")}}B&&"/_error"===this.pathname&&(null==(h=self.__NEXT_DATA__.props)?void 0:null==(c=h.pageProps)?void 0:c.statusCode)===500&&(null==(k=a.props)?void 0:k.pageProps)&&(a.props.pageProps.statusCode=500);let u=n.shallow&&z.route===(null!=(x=a.route)?x:ei),d=null!=(j=n.scroll)?j:!B&&!u,v=null!=i?i:d?{x:0,y:0}:null,_={...z,route:ei,pathname:et,query:er,asPath:Z,isFallback:!1};if(B&&eu){if(a=await this.getRouteInfo({route:this.pathname,pathname:this.pathname,query:er,as:r,resolvedAs:en,routeProps:{shallow:!1},locale:z.locale,isPreview:z.isPreview,isQueryUpdating:B&&!this.isFallback}),"type"in a)throw Error("Unexpected middleware effect on "+this.pathname);"/_error"===this.pathname&&(null==(A=self.__NEXT_DATA__.props)?void 0:null==(T=A.pageProps)?void 0:T.statusCode)===500&&(null==(C=a.props)?void 0:C.pageProps)&&(a.props.pageProps.statusCode=500);try{await this.set(_,a,v)}catch(e){throw(0,l.default)(e)&&e.cancelled&&G.events.emit("routeChangeError",e,Z,Y),e}return!0}if(G.events.emit("beforeHistoryChange",r,Y),this.changeState(e,t,r,n),!(B&&!v&&!W&&!Q&&(0,O.compareRouterStates)(_,this.state))){try{await this.set(_,a,v)}catch(e){if(e.cancelled)a.error=a.error||e;else throw e}if(a.error)throw B||G.events.emit("routeChangeError",a.error,Z,Y),a.error;B||G.events.emit("routeChangeComplete",r,Y),d&&/#.+$/.test(r)&&this.scrollToHash(r)}return!0}catch(e){if((0,l.default)(e)&&e.cancelled)return!1;throw e}}changeState(e,t,r,n){void 0===n&&(n={}),("pushState"!==e||(0,d.getURL)()!==r)&&(this._shallow=n.shallow,window.history[e]({url:t,as:r,options:n,__N:!0,key:this._key="pushState"!==e?this._key:z()},"",r))}async handleRouteInfoError(e,t,r,n,i,a){if(console.error(e),e.cancelled)throw e;if((0,s.isAssetError)(e)||a)throw G.events.emit("routeChangeError",e,n,i),F({url:n,router:this}),L();try{let n;let{page:i,styleSheets:a}=await this.fetchComponent("/_error"),s={props:n,Component:i,styleSheets:a,err:e,error:e};if(!s.props)try{s.props=await this.getInitialProps(i,{err:e,pathname:t,query:r})}catch(e){console.error("Error in error page `getInitialProps`: ",e),s.props={}}return s}catch(e){return this.handleRouteInfoError((0,l.default)(e)?e:Error(e+""),t,r,n,i,!0)}}async getRouteInfo(e){let{route:t,pathname:r,query:n,as:i,resolvedAs:s,routeProps:o,locale:u,hasMiddleware:h,isPreview:d,unstable_skipClientCache:f,isQueryUpdating:p,isMiddlewareRewrite:g,isNotFound:y}=e,_=t;try{var m,w,S,P;let e=this.components[_];if(o.shallow&&e&&this.route===_)return e;let t=W({route:_,router:this});h&&(e=void 0);let l=!e||"initial"in e?void 0:e,k={dataHref:this.pageLoader.getDataHref({href:(0,v.formatWithValidation)({pathname:r,query:n}),skipInterpolation:!0,asPath:y?"/404":s,locale:u}),hasMiddleware:!0,isServerRender:this.isSsr,parseJSON:!0,inflightCache:p?this.sbc:this.sdc,persistCache:!d,isPrefetch:!1,unstable_skipClientCache:f,isBackground:p},j=p&&!g?null:await D({fetchData:()=>H(k),asPath:y?"/404":s,locale:u,router:this}).catch(e=>{if(p)return null;throw e});if(j&&("/_error"===r||"/404"===r)&&(j.effect=void 0),p&&(j?j.json=self.__NEXT_DATA__.props:j={json:self.__NEXT_DATA__.props}),t(),(null==j?void 0:null==(m=j.effect)?void 0:m.type)==="redirect-internal"||(null==j?void 0:null==(w=j.effect)?void 0:w.type)==="redirect-external")return j.effect;if((null==j?void 0:null==(S=j.effect)?void 0:S.type)==="rewrite"){let t=(0,a.removeTrailingSlash)(j.effect.resolvedHref),i=await this.pageLoader.getPageList();if((!p||i.includes(t))&&(_=t,r=j.effect.resolvedHref,n={...n,...j.effect.parsedAs.query},s=(0,b.removeBasePath)((0,c.normalizeLocalePath)(j.effect.parsedAs.pathname,this.locales).pathname),e=this.components[_],o.shallow&&e&&this.route===_&&!h))return{...e,route:_}}if((0,x.isAPIRoute)(_))return F({url:i,router:this}),new Promise(()=>{});let T=l||await this.fetchComponent(_).then(e=>({Component:e.page,styleSheets:e.styleSheets,__N_SSG:e.mod.__N_SSG,__N_SSP:e.mod.__N_SSP})),O=null==j?void 0:null==(P=j.response)?void 0:P.headers.get("x-middleware-skip"),E=T.__N_SSG||T.__N_SSP;O&&(null==j?void 0:j.dataHref)&&delete this.sdc[j.dataHref];let{props:A,cacheKey:I}=await this._getData(async()=>{if(E){if((null==j?void 0:j.json)&&!O)return{cacheKey:j.cacheKey,props:j.json};let e=(null==j?void 0:j.dataHref)?j.dataHref:this.pageLoader.getDataHref({href:(0,v.formatWithValidation)({pathname:r,query:n}),asPath:s,locale:u}),t=await H({dataHref:e,isServerRender:this.isSsr,parseJSON:!0,inflightCache:O?{}:this.sdc,persistCache:!d,isPrefetch:!1,unstable_skipClientCache:f});return{cacheKey:t.cacheKey,props:t.json||{}}}return{headers:{},props:await this.getInitialProps(T.Component,{pathname:r,query:n,asPath:i,locale:u,locales:this.locales,defaultLocale:this.defaultLocale})}});return T.__N_SSP&&k.dataHref&&I&&delete this.sdc[I],this.isPreview||!T.__N_SSG||p||H(Object.assign({},k,{isBackground:!0,persistCache:!1,inflightCache:this.sbc})).catch(()=>{}),A.pageProps=Object.assign({},A.pageProps),T.props=A,T.route=_,T.query=n,T.resolvedAs=s,this.components[_]=T,T}catch(e){return this.handleRouteInfoError((0,l.getProperError)(e),r,n,i,o)}}set(e,t,r){return this.state=e,this.sub(t,this.components["/_app"].Component,r)}beforePopState(e){this._bps=e}onlyAHashChange(e){if(!this.asPath)return!1;let[t,r]=this.asPath.split("#",2),[n,i]=e.split("#",2);return!!i&&t===n&&r===i||t===n&&r!==i}scrollToHash(e){let[,t=""]=e.split("#",2);(0,C.handleSmoothScroll)(()=>{if(""===t||"top"===t){window.scrollTo(0,0);return}let e=decodeURIComponent(t),r=document.getElementById(e);if(r){r.scrollIntoView();return}let n=document.getElementsByName(e)[0];n&&n.scrollIntoView()},{onlyHashChange:this.onlyAHashChange(e)})}urlIsNew(e){return this.asPath!==e}async prefetch(e,t,r){if(void 0===t&&(t=e),void 0===r&&(r={}),"undefined"!=typeof window&&(0,A.isBot)(window.navigator.userAgent))return;let n=(0,p.parseRelativeUrl)(e),i=n.pathname,{pathname:s,query:o}=n,l=s,u=await this.pageLoader.getPageList(),c=t,h=void 0!==r.locale?r.locale||void 0:this.locale,d=await M({asPath:t,locale:h,router:this});n.pathname=U(n.pathname,u),(0,f.isDynamicRoute)(n.pathname)&&(s=n.pathname,n.pathname=s,Object.assign(o,(0,g.getRouteMatcher)((0,y.getRouteRegex)(n.pathname))((0,_.parsePath)(t).pathname)||{}),d||(e=(0,v.formatWithValidation)(n)));let m=await D({fetchData:()=>H({dataHref:this.pageLoader.getDataHref({href:(0,v.formatWithValidation)({pathname:l,query:o}),skipInterpolation:!0,asPath:c,locale:h}),hasMiddleware:!0,isServerRender:!1,parseJSON:!0,inflightCache:this.sdc,persistCache:!this.isPreview,isPrefetch:!0}),asPath:t,locale:h,router:this});if((null==m?void 0:m.effect.type)==="rewrite"&&(n.pathname=m.effect.resolvedHref,s=m.effect.resolvedHref,o={...o,...m.effect.parsedAs.query},c=m.effect.parsedAs.pathname,e=(0,v.formatWithValidation)(n)),(null==m?void 0:m.effect.type)==="redirect-external")return;let w=(0,a.removeTrailingSlash)(s);await this._bfl(t,c,r.locale,!0)&&(this.components[i]={__appRouter:!0}),await Promise.all([this.pageLoader._isSsg(w).then(t=>!!t&&H({dataHref:(null==m?void 0:m.json)?null==m?void 0:m.dataHref:this.pageLoader.getDataHref({href:e,asPath:c,locale:h}),isServerRender:!1,parseJSON:!0,inflightCache:this.sdc,persistCache:!this.isPreview,isPrefetch:!0,unstable_skipClientCache:r.unstable_skipClientCache||r.priority&&!0}).then(()=>!1).catch(()=>!1)),this.pageLoader[r.priority?"loadPage":"prefetch"](w)])}async fetchComponent(e){let t=W({route:e,router:this});try{let r=await this.pageLoader.loadPage(e);return t(),r}catch(e){throw t(),e}}_getData(e){let t=!1,r=()=>{t=!0};return this.clc=r,e().then(e=>{if(r===this.clc&&(this.clc=null),t){let e=Error("Loading initial props cancelled");throw e.cancelled=!0,e}return e})}_getFlightData(e){return H({dataHref:e,isServerRender:!0,parseJSON:!1,inflightCache:this.sdc,persistCache:!1,isPrefetch:!1}).then(e=>{let{text:t}=e;return{data:t}})}getInitialProps(e,t){let{Component:r}=this.components["/_app"],n=this._wrapApp(r);return t.AppTree=n,(0,d.loadGetInitialProps)(r,{AppTree:n,Component:e,router:this,ctx:t})}get route(){return this.state.route}get pathname(){return this.state.pathname}get query(){return this.state.query}get asPath(){return this.state.asPath}get locale(){return this.state.locale}get isFallback(){return this.state.isFallback}get isPreview(){return this.state.isPreview}constructor(e,t,n,{initialProps:i,pageLoader:s,App:o,wrapApp:l,Component:u,err:c,subscription:h,isFallback:g,locale:y,locales:_,defaultLocale:m,domainLocales:w,isPreview:b}){this.sdc={},this.sbc={},this.isFirstPopStateEvent=!0,this._key=z(),this.onPopState=e=>{let t;let{isFirstPopStateEvent:r}=this;this.isFirstPopStateEvent=!1;let n=e.state;if(!n){let{pathname:e,query:t}=this;this.changeState("replaceState",(0,v.formatWithValidation)({pathname:(0,S.addBasePath)(e),query:t}),(0,d.getURL)());return}if(n.__NA){window.location.reload();return}if(!n.__N||r&&this.locale===n.options.locale&&n.as===this.asPath)return;let{url:i,as:a,options:s,key:o}=n;this._key=o;let{pathname:l}=(0,p.parseRelativeUrl)(i);(!this.isSsr||a!==(0,S.addBasePath)(this.asPath)||l!==(0,S.addBasePath)(this.pathname))&&(!this._bps||this._bps(n))&&this.change("replaceState",i,a,Object.assign({},s,{shallow:s.shallow&&this._shallow,locale:s.locale||this.defaultLocale,_h:0}),t)};let P=(0,a.removeTrailingSlash)(e);this.components={},"/_error"!==e&&(this.components[P]={Component:u,initial:!0,props:i,err:c,__N_SSG:i&&i.__N_SSG,__N_SSP:i&&i.__N_SSP}),this.components["/_app"]={Component:o,styleSheets:[]};{let{BloomFilter:e}=r(76727),t={numItems:16,errorRate:1e-4,numBits:307,numHashes:14,bitArray:[0,1,0,0,1,1,1,1,1,1,1,0,1,1,0,1,0,1,0,1,1,1,0,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,1,0,1,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,0,0,0,1,0,1,0,0,0,1,0,1,0,1,0,1,1,0,1,1,0,1,1,1,1,0,1,0,1,0,1,0,1,0,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,1,0,0,0,1,0,1,1,0,1,1,0,0,0,1,0,1,0,0,1,1,0,1,0,1,1,0,0,0,1,1,0,0,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,1,1,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,1,0,0,1,0,0,1,1,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0,0,0,0,1,0,0,1,0,1,1,0,0,1,0,1,1,0,1,0,1,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,1,1,0,0,1,0,1,1,0,0,1,0,0,0,1,1,0,1,1,1,0,1,0,0,0,0,1,1,0,1,1,1,1]},n={numItems:26,errorRate:1e-4,numBits:499,numHashes:14,bitArray:[0,1,1,1,0,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,1,1,0,1,1,1,1,1,0,1,1,1,0,1,0,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,1,1,1,1,1,0,0,0,1,0,1,0,1,0,1,0,1,0,0,0,1,0,1,0,0,0,1,1,1,0,0,1,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,1,1,1,0,1,1,1,0,1,1,0,0,1,0,1,0,1,1,1,0,0,0,0,1,0,1,0,0,0,1,0,1,1,1,1,1,0,0,1,0,1,1,0,0,0,0,1,0,1,0,1,0,1,1,0,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,0,0,1,0,0,0,1,1,0,1,1,0,0,0,1,0,0,1,1,1,0,0,1,1,0,1,0,1,0,1,0,0,0,0,0,0,1,1,0,1,0,1,0,0,1,1,0,0,0,1,0,0,1,1,1,1,0,1,1,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,1,0,1,1,1,1,0,0,0,0,1,1,0,0,0,1,1,0,0,0,0,1,0,1,1,1,1,1,0,0,0,1,1,1,0,0,1,0,0,1,1,0,1,1,1,0,0,1,0,1,1,1,1,1,1,0,1,0,0,0,1,0,0,0,1,0,0,0,1,1,0,1,0,0,1,0,1,0,0,0,1,0,0,1,1,0,1,1,0,0,1,0,1,0,1,1,1,1,1,0,0,0,1,0,1,0,0,1,0,1,0,1,0,1,1,0,1,1,1,0,0,1,1,0,1,1,0,1,0,1,1,1,1,0,1,0,1,1,1,0,0,1,0,0,1,1,0,0,1,1,1,1,0,1,1,0,1,0,1,0,0,0,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,0,0,1,0,1,0,1,0,0,0,1,0,1,1,1,0,0,1,1,1,1,1,0,0,1,1,1,0,0,1,0,1,0,0,1,0,1,0,0,1,0,1]};(null==t?void 0:t.numHashes)&&(this._bfl_s=new e(t.numItems,t.errorRate),this._bfl_s.import(t)),(null==n?void 0:n.numHashes)&&(this._bfl_d=new e(n.numItems,n.errorRate),this._bfl_d.import(n))}this.events=G.events,this.pageLoader=s;let k=(0,f.isDynamicRoute)(e)&&self.__NEXT_DATA__.autoExport;if(this.basePath="/docs",this.sub=h,this.clc=null,this._wrapApp=l,this.isSsr=!0,this.isLocaleDomain=!1,this.isReady=!!(self.__NEXT_DATA__.gssp||self.__NEXT_DATA__.gip||self.__NEXT_DATA__.isExperimentalCompile||self.__NEXT_DATA__.appGip&&!self.__NEXT_DATA__.gsp||!k&&!self.location.search),this.state={route:P,pathname:e,query:t,asPath:k?e:n,isPreview:!!b,locale:void 0,isFallback:g},this._initialMatchesMiddlewarePromise=Promise.resolve(!1),"undefined"!=typeof window){if(!n.startsWith("//")){let r={locale:y},i=(0,d.getURL)();this._initialMatchesMiddlewarePromise=M({router:this,locale:y,asPath:i}).then(a=>(r._shouldResolveHref=n!==e,this.changeState("replaceState",a?i:(0,v.formatWithValidation)({pathname:(0,S.addBasePath)(e),query:t}),i,r),a))}window.addEventListener("popstate",this.onPopState)}}}G.events=(0,h.default)()},86204:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return a}});let n=r(8420),i=r(7064);function a(e,t,r,a){if(!t||t===r)return e;let s=e.toLowerCase();return!a&&((0,i.pathHasPrefix)(s,"/api")||(0,i.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},40706:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return i}});let n=r(85683);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:a}=(0,n.parsePath)(e);return""+r+t+i+a}},14928:function(e,t){"use strict";function r(e,t){let r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let n=r.length;n--;){let i=r[n];if("query"===i){let r=Object.keys(e.query);if(r.length!==Object.keys(t.query).length)return!1;for(let n=r.length;n--;){let i=r[n];if(!t.query.hasOwnProperty(i)||e.query[i]!==t.query[i])return!1}}else if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"compareRouterStates",{enumerable:!0,get:function(){return r}})},13754:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=r(75247),i=r(8420),a=r(40706),s=r(86204);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,a.addPathSuffix)((0,i.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,a.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},27816:function(e,t){"use strict";function r(e,t){return void 0===t&&(t=""),("/"===e?"/index":/^\/index(\/|$)/.test(e)?"/index"+e:e)+t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}})},70722:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=r(6130),i=r(90590),a=r(7064);function s(e,t){var r,s;let{basePath:o,i18n:l,trailingSlash:u}=null!=(r=t.nextConfig)?r:{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};o&&(0,a.pathHasPrefix)(c.pathname,o)&&(c.pathname=(0,i.removePathPrefix)(c.pathname,o),c.basePath=o);let h=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];c.buildId=r,h="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(c.pathname=h)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,n.normalizeLocalePath)(c.pathname,l.locales);c.locale=e.detectedLocale,c.pathname=null!=(s=e.pathname)?s:c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(h):(0,n.normalizeLocalePath)(h,l.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},22246:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseRelativeUrl",{enumerable:!0,get:function(){return a}});let n=r(80555),i=r(76659);function a(e,t){let r=new URL("undefined"==typeof window?"http://n":(0,n.getLocationOrigin)()),a=t?new URL(t,r):e.startsWith(".")?new URL("undefined"==typeof window?"http://n":window.location.href):r,{pathname:s,searchParams:o,search:l,hash:u,href:c,origin:h}=new URL(e,a);if(h!==r.origin)throw Error("invariant: invalid relative URL, router received "+e);return{pathname:s,query:(0,i.searchParamsToUrlQuery)(o),search:l,hash:u,href:c.slice(r.origin.length)}}},90590:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return i}});let n=r(7064);function i(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},79223:function(e,t,r){"use strict";r.d(t,{S1:function(){return a},ZT:function(){return n},jU:function(){return s},on:function(){return i}});var n=function(){};function i(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function a(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var s="undefined"!=typeof window},87068:function(e,t,r){"use strict";var n=r(14627),i=r(79223).jU?n.useLayoutEffect:n.useEffect;t.Z=i},50739:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(14627),i=function(e){(0,n.useEffect)(e,[])},a=function(e){var t=(0,n.useRef)(e);t.current=e,i(function(){return function(){return t.current()}})},s=function(e){var t=(0,n.useRef)(0),r=(0,n.useState)(e),i=r[0],s=r[1],o=(0,n.useCallback)(function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){s(e)})},[]);return a(function(){cancelAnimationFrame(t.current)}),[i,o]},o=r(79223),l=function(e,t){void 0===e&&(e=1/0),void 0===t&&(t=1/0);var r=s({width:o.jU?window.innerWidth:e,height:o.jU?window.innerHeight:t}),i=r[0],a=r[1];return(0,n.useEffect)(function(){if(o.jU){var e=function(){a({width:window.innerWidth,height:window.innerHeight})};return(0,o.on)(window,"resize",e),function(){(0,o.S1)(window,"resize",e)}}},[]),i}},32608:function(e){var t,r,n,i=e.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l=[],u=!1,c=-1;function h(){u&&n&&(u=!1,n.length?l=n.concat(l):c=-1,l.length&&d())}function d(){if(!u){var e=o(h);u=!0;for(var t=l.length;t;){for(n=l,l=[];++c<t;)n&&n[c].run();c=-1,t=l.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},55995:function(e,t,r){"use strict";r.d(t,{cf:function(){return a}}),new TextEncoder,new TextDecoder;var n=crypto;n.getRandomValues.bind(n),Symbol(),"undefined"==typeof navigator||navigator.userAgent?.startsWith?.("Mozilla/5.0 "),r(32608);var i=r(14627);function a({values:e}){return i.createElement("script",{type:"application/json","data-flag-values":!0,dangerouslySetInnerHTML:{__html:JSON.stringify(e,void 0,void 0).replace(/</g,"\\u003c")}})}},71933:function(e,t,r){"use strict";r.d(t,{F:function(){return u},f:function(){return c}});var n=r(14627),i=["light","dark"],a="(prefers-color-scheme: dark)",s="undefined"==typeof window,o=n.createContext(void 0),l={setTheme:e=>{},themes:[]},u=()=>{var e;return null!=(e=n.useContext(o))?e:l},c=e=>n.useContext(o)?e.children:n.createElement(d,{...e}),h=["light","dark"],d=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:s=!0,enableColorScheme:l=!0,storageKey:u="theme",themes:c=h,defaultTheme:d=s?"system":"light",attribute:v="data-theme",value:_,children:m,nonce:w}=e,[b,S]=n.useState(()=>p(u,d)),[P,k]=n.useState(()=>p(u)),x=_?Object.values(_):c,j=n.useCallback(e=>{let t=e;if(!t)return;"system"===e&&s&&(t=y());let n=_?_[t]:t,a=r?g():null,o=document.documentElement;if("class"===v?(o.classList.remove(...x),n&&o.classList.add(n)):n?o.setAttribute(v,n):o.removeAttribute(v),l){let e=i.includes(d)?d:null,r=i.includes(t)?t:e;o.style.colorScheme=r}null==a||a()},[]),T=n.useCallback(e=>{let t="function"==typeof e?e(e):e;S(t);try{localStorage.setItem(u,t)}catch(e){}},[t]),O=n.useCallback(e=>{k(y(e)),"system"===b&&s&&!t&&j("system")},[b,t]);n.useEffect(()=>{let e=window.matchMedia(a);return e.addListener(O),O(e),()=>e.removeListener(O)},[O]),n.useEffect(()=>{let e=e=>{e.key===u&&T(e.newValue||d)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[T]),n.useEffect(()=>{j(null!=t?t:b)},[t,b]);let E=n.useMemo(()=>({theme:b,setTheme:T,forcedTheme:t,resolvedTheme:"system"===b?P:b,themes:s?[...c,"system"]:c,systemTheme:s?P:void 0}),[b,T,t,P,s,c]);return n.createElement(o.Provider,{value:E},n.createElement(f,{forcedTheme:t,disableTransitionOnChange:r,enableSystem:s,enableColorScheme:l,storageKey:u,themes:c,defaultTheme:d,attribute:v,value:_,children:m,attrs:x,nonce:w}),m)},f=n.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:s,enableSystem:o,enableColorScheme:l,defaultTheme:u,value:c,attrs:h,nonce:d}=e,f="system"===u,p="class"===s?"var d=document.documentElement,c=d.classList;".concat("c.remove(".concat(h.map(e=>"'".concat(e,"'")).join(","),")"),";"):"var d=document.documentElement,n='".concat(s,"',s='setAttribute';"),g=l?(i.includes(u)?u:null)?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(u,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=c?c[e]:e,a=t?e+"|| ''":"'".concat(n,"'"),o="";return l&&r&&!t&&i.includes(e)&&(o+="d.style.colorScheme = '".concat(e,"';")),"class"===s?t||n?o+="c.add(".concat(a,")"):o+="null":n&&(o+="d[s](n,".concat(a,")")),o},v=t?"!function(){".concat(p).concat(y(t),"}()"):o?"!function(){try{".concat(p,"var e=localStorage.getItem('").concat(r,"');if('system'===e||(!e&&").concat(f,")){var t='").concat(a,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(y("dark"),"}else{").concat(y("light"),"}}else if(e){").concat(c?"var x=".concat(JSON.stringify(c),";"):"").concat(y(c?"x[e]":"e",!0),"}").concat(f?"":"else{"+y(u,!1,!1)+"}").concat(g,"}catch(e){}}()"):"!function(){try{".concat(p,"var e=localStorage.getItem('").concat(r,"');if(e){").concat(c?"var x=".concat(JSON.stringify(c),";"):"").concat(y(c?"x[e]":"e",!0),"}else{").concat(y(u,!1,!1),";}").concat(g,"}catch(t){}}();");return n.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:v}})}),p=(e,t)=>{let r;if(!s){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},g=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},y=e=>(e||(e=window.matchMedia(a)),e.matches?"dark":"light")}}]);